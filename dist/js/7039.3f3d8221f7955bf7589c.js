(self.webpackChunkdt_em_front=self.webpackChunkdt_em_front||[]).push([[7039],{27539:(e,t,i)=>{i(37860),i(72826)},37860:(e,t,i)=>{var a=i(23263),n=i(93321).extend({type:"series.gauge",getInitialData:function(e,t){return a(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});e.exports=n},72826:(e,t,i)=>{var a=i(30931),n=i(51177),r=i(75797),l=i(85669),o=l.parsePercent,s=l.round,g=l.linearMap;function h(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}var c=2*Math.PI,d=r.extend({type:"gauge",render:function(e,t,i){this.group.removeAll();var a=e.get("axisLine.lineStyle.color"),n=function(e,t){var i=e.get("center"),a=t.getWidth(),n=t.getHeight(),r=Math.min(a,n);return{cx:o(i[0],t.getWidth()),cy:o(i[1],t.getHeight()),r:o(e.get("radius"),r/2)}}(e,i);this._renderMain(e,t,i,a,n)},dispose:function(){},_renderMain:function(e,t,i,a,r){for(var l=this.group,o=e.getModel("axisLine"),s=o.getModel("lineStyle"),g=e.get("clockwise"),h=-e.get("startAngle")/180*Math.PI,d=((f=-e.get("endAngle")/180*Math.PI)-h)%c,u=h,p=s.get("width"),m=o.get("show"),y=0;m&&y<a.length;y++){var f=h+d*Math.min(Math.max(a[y][0],0),1),v=new n.Sector({shape:{startAngle:u,endAngle:f,cx:r.cx,cy:r.cy,clockwise:g,r0:r.r-p,r:r.r},silent:!0});v.setStyle({fill:a[y][1]}),v.setStyle(s.getLineStyle(["color","borderWidth","borderColor"])),l.add(v),u=f}var x=function(e){if(e<=0)return a[0][1];for(var t=0;t<a.length;t++)if(a[t][0]>=e&&(0===t?0:a[t-1][0])<e)return a[t][1];return a[t-1][1]};if(!g){var b=h;h=f,f=b}this._renderTicks(e,t,i,x,r,h,f,g),this._renderPointer(e,t,i,x,r,h,f,g),this._renderTitle(e,t,i,x,r),this._renderDetail(e,t,i,x,r)},_renderTicks:function(e,t,i,a,r,l,g,c){for(var d=this.group,u=r.cx,p=r.cy,m=r.r,y=+e.get("min"),f=+e.get("max"),v=e.getModel("splitLine"),x=e.getModel("axisTick"),b=e.getModel("axisLabel"),w=e.get("splitNumber"),M=x.get("splitNumber"),S=o(v.get("length"),m),A=o(x.get("length"),m),I=l,L=(g-l)/w,P=L/M,D=v.getModel("lineStyle").getLineStyle(),T=x.getModel("lineStyle").getLineStyle(),N=0;N<=w;N++){var _=Math.cos(I),k=Math.sin(I);if(v.get("show")){var C=new n.Line({shape:{x1:_*m+u,y1:k*m+p,x2:_*(m-S)+u,y2:k*(m-S)+p},style:D,silent:!0});"auto"===D.stroke&&C.setStyle({stroke:a(N/w)}),d.add(C)}if(b.get("show")){var E=h(s(N/w*(f-y)+y),b.get("formatter")),G=b.get("distance"),O=a(N/w);d.add(new n.Text({style:n.setTextStyle({},b,{text:E,x:_*(m-S-G)+u,y:k*(m-S-G)+p,textVerticalAlign:k<-.4?"top":k>.4?"bottom":"middle",textAlign:_<-.4?"left":_>.4?"right":"center"},{autoColor:O}),silent:!0}))}if(x.get("show")&&N!==w){for(var V=0;V<=M;V++){_=Math.cos(I),k=Math.sin(I);var R=new n.Line({shape:{x1:_*m+u,y1:k*m+p,x2:_*(m-A)+u,y2:k*(m-A)+p},silent:!0,style:T});"auto"===T.stroke&&R.setStyle({stroke:a((N+V/M)/w)}),d.add(R),I+=P}I-=P}else I+=L}},_renderPointer:function(e,t,i,r,l,s,h,c){var d=this.group,u=this._data;if(e.get("pointer.show")){var p=[+e.get("min"),+e.get("max")],m=[s,h],y=e.getData(),f=y.mapDimension("value");y.diff(u).add((function(t){var i=new a({shape:{angle:s}});n.initProps(i,{shape:{angle:g(y.get(f,t),p,m,!0)}},e),d.add(i),y.setItemGraphicEl(t,i)})).update((function(t,i){var a=u.getItemGraphicEl(i);n.updateProps(a,{shape:{angle:g(y.get(f,t),p,m,!0)}},e),d.add(a),y.setItemGraphicEl(t,a)})).remove((function(e){var t=u.getItemGraphicEl(e);d.remove(t)})).execute(),y.eachItemGraphicEl((function(e,t){var i=y.getItemModel(t),a=i.getModel("pointer");e.setShape({x:l.cx,y:l.cy,width:o(a.get("width"),l.r),r:o(a.get("length"),l.r)}),e.useStyle(i.getModel("itemStyle").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",r(g(y.get(f,t),p,[0,1],!0))),n.setHoverStyle(e,i.getModel("emphasis.itemStyle").getItemStyle())})),this._data=y}else u&&u.eachItemGraphicEl((function(e){d.remove(e)}))},_renderTitle:function(e,t,i,a,r){var l=e.getData(),s=l.mapDimension("value"),h=e.getModel("title");if(h.get("show")){var c=h.get("offsetCenter"),d=r.cx+o(c[0],r.r),u=r.cy+o(c[1],r.r),p=+e.get("min"),m=+e.get("max"),y=e.getData().get(s,0),f=a(g(y,[p,m],[0,1],!0));this.group.add(new n.Text({silent:!0,style:n.setTextStyle({},h,{x:d,y:u,text:l.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:f,forceRich:!0})}))}},_renderDetail:function(e,t,i,a,r){var l=e.getModel("detail"),s=+e.get("min"),c=+e.get("max");if(l.get("show")){var d=l.get("offsetCenter"),u=r.cx+o(d[0],r.r),p=r.cy+o(d[1],r.r),m=o(l.get("width"),r.r),y=o(l.get("height"),r.r),f=e.getData(),v=f.get(f.mapDimension("value"),0),x=a(g(v,[s,c],[0,1],!0));this.group.add(new n.Text({silent:!0,style:n.setTextStyle({},l,{x:u,y:p,text:h(v,l.get("formatter")),textWidth:isNaN(m)?null:m,textHeight:isNaN(y)?null:y,textAlign:"center",textVerticalAlign:"middle"},{autoColor:x,forceRich:!0})}))}}});e.exports=d},30931:(e,t,i)=>{var a=i(10712).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var i=Math.cos,a=Math.sin,n=t.r,r=t.width,l=t.angle,o=t.x-i(l)*r*(r>=n/3?1:2),s=t.y-a(l)*r*(r>=n/3?1:2);l=t.angle-Math.PI/2,e.moveTo(o,s),e.lineTo(t.x+i(l)*r,t.y+a(l)*r),e.lineTo(t.x+i(t.angle)*n,t.y+a(t.angle)*n),e.lineTo(t.x-i(l)*r,t.y-a(l)*r),e.lineTo(o,s)}});e.exports=a},23263:(e,t,i)=>{var a=i(55623),n=i(87587),r=i(33051),l=r.extend,o=r.isArray;e.exports=function(e,t,i){t=o(t)&&{coordDimensions:t}||l({},t);var r=e.getSource(),s=a(r,t),g=new n(s,e);return g.initData(r,i),g}},94859:(e,t,i)=>{var a=i(70492),n=i(33051);i(52702),i(42471);var r=i(75324),l=i(69274),o=i(63798),s=i(22528);r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),a.registerVisual(l("pie")),a.registerLayout(n.curry(o,"pie")),a.registerProcessor(s("pie"))},52702:(e,t,i)=>{var a=i(70492),n=i(23263),r=i(33051),l=i(32234),o=i(85669).getPercentWithPrecision,s=i(1501),g=i(68540).retrieveRawAttr,h=i(61772).makeSeriesEncodeForNameBased,c=i(72019),d=a.extendSeriesModel({type:"series.pie",init:function(e){d.superApply(this,"init",arguments),this.legendVisualProvider=new c(r.bind(this.getData,this),r.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){d.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return n(this,{coordDimensions:["value"],encodeDefaulter:r.curry(h,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),i=[],a=0,n=e.count();a<n;a++)i.push({name:e.getName(a),value:e.get(t,a),selected:g(e,a,"selected")});return i},getDataParams:function(e){var t=this.getData(),i=d.superCall(this,"getDataParams",e),a=[];return t.each(t.mapDimension("value"),(function(e){a.push(e)})),i.percent=o(a,e,t.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(e){l.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(d,s);var u=d;e.exports=u},42471:(e,t,i)=>{var a=i(33051),n=i(51177),r=i(75797);function l(e,t,i,a){var n=t.getData(),r=this.dataIndex,l=n.getName(r),s=t.get("selectedOffset");a.dispatchAction({type:"pieToggleSelect",from:e,name:l,seriesId:t.id}),n.each((function(e){o(n.getItemGraphicEl(e),n.getItemLayout(e),t.isSelected(n.getName(e)),s,i)}))}function o(e,t,i,a,n){var r=(t.startAngle+t.endAngle)/2,l=i?a:0,o=[Math.cos(r)*l,Math.sin(r)*l];n?e.animate().when(200,{position:o}).start("bounceOut"):e.attr("position",o)}function s(e,t){n.Group.call(this);var i=new n.Sector({z2:2}),a=new n.Polyline,r=new n.Text;this.add(i),this.add(a),this.add(r),this.updateData(e,t,!0)}var g=s.prototype;g.updateData=function(e,t,i){var r=this.childAt(0),l=this.childAt(1),s=this.childAt(2),g=e.hostModel,h=e.getItemModel(t),c=e.getItemLayout(t),d=a.extend({},c);d.label=null;var u=g.getShallow("animationTypeUpdate");i?(r.setShape(d),"scale"===g.getShallow("animationType")?(r.shape.r=c.r0,n.initProps(r,{shape:{r:c.r}},g,t)):(r.shape.endAngle=c.startAngle,n.updateProps(r,{shape:{endAngle:c.endAngle}},g,t))):"expansion"===u?r.setShape(d):n.updateProps(r,{shape:d},g,t);var p=e.getItemVisual(t,"color");r.useStyle(a.defaults({lineJoin:"bevel",fill:p},h.getModel("itemStyle").getItemStyle())),r.hoverStyle=h.getModel("emphasis.itemStyle").getItemStyle();var m=h.getShallow("cursor");m&&r.attr("cursor",m),o(this,e.getItemLayout(t),g.isSelected(e.getName(t)),g.get("selectedOffset"),g.get("animation"));var y=!i&&"transition"===u;this._updateLabel(e,t,y),this.highDownOnUpdate=g.get("silent")?null:function(e,t){var i=g.isAnimationEnabled()&&h.get("hoverAnimation");"emphasis"===t?(l.ignore=l.hoverIgnore,s.ignore=s.hoverIgnore,i&&(r.stopAnimation(!0),r.animateTo({shape:{r:c.r+g.get("hoverOffset")}},300,"elasticOut"))):(l.ignore=l.normalIgnore,s.ignore=s.normalIgnore,i&&(r.stopAnimation(!0),r.animateTo({shape:{r:c.r}},300,"elasticOut")))},n.setHoverStyle(this)},g._updateLabel=function(e,t,i){var a=this.childAt(1),r=this.childAt(2),l=e.hostModel,o=e.getItemModel(t),s=e.getItemLayout(t).label,g=e.getItemVisual(t,"color");if(!s||isNaN(s.x)||isNaN(s.y))r.ignore=r.normalIgnore=r.hoverIgnore=a.ignore=a.normalIgnore=a.hoverIgnore=!0;else{var h={points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]},c={x:s.x,y:s.y};i?(n.updateProps(a,{shape:h},l,t),n.updateProps(r,{style:c},l,t)):(a.attr({shape:h}),r.attr({style:c})),r.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var d=o.getModel("label"),u=o.getModel("emphasis.label"),p=o.getModel("labelLine"),m=o.getModel("emphasis.labelLine");g=e.getItemVisual(t,"color");n.setLabelStyle(r.style,r.hoverStyle={},d,u,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:s.text,autoColor:g,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),r.ignore=r.normalIgnore=!d.get("show"),r.hoverIgnore=!u.get("show"),a.ignore=a.normalIgnore=!p.get("show"),a.hoverIgnore=!m.get("show"),a.setStyle({stroke:g,opacity:e.getItemVisual(t,"opacity")}),a.setStyle(p.getModel("lineStyle").getLineStyle()),a.hoverStyle=m.getModel("lineStyle").getLineStyle();var y=p.get("smooth");y&&!0===y&&(y=.4),a.setShape({smooth:y})}},a.inherits(s,n.Group);var h=r.extend({type:"pie",init:function(){var e=new n.Group;this._sectorGroup=e},render:function(e,t,i,n){if(!n||n.from!==this.uid){var r=e.getData(),o=this._data,g=this.group,h=t.get("animation"),c=!o,d=e.get("animationType"),u=e.get("animationTypeUpdate"),p=a.curry(l,this.uid,e,h,i),m=e.get("selectedMode");if(r.diff(o).add((function(e){var t=new s(r,e);c&&"scale"!==d&&t.eachChild((function(e){e.stopAnimation(!0)})),m&&t.on("click",p),r.setItemGraphicEl(e,t),g.add(t)})).update((function(e,t){var i=o.getItemGraphicEl(t);c||"transition"===u||i.eachChild((function(e){e.stopAnimation(!0)})),i.updateData(r,e),i.off("click"),m&&i.on("click",p),g.add(i),r.setItemGraphicEl(e,i)})).remove((function(e){var t=o.getItemGraphicEl(e);g.remove(t)})).execute(),h&&r.count()>0&&(c?"scale"!==d:"transition"!==u)){for(var y=r.getItemLayout(0),f=1;isNaN(y.startAngle)&&f<r.count();++f)y=r.getItemLayout(f);var v=Math.max(i.getWidth(),i.getHeight())/2,x=a.bind(g.removeClipPath,g);g.setClipPath(this._createClipPath(y.cx,y.cy,v,y.startAngle,y.clockwise,x,e,c))}else g.removeClipPath();this._data=r}},dispose:function(){},_createClipPath:function(e,t,i,a,r,l,o,s){var g=new n.Sector({shape:{cx:e,cy:t,r0:0,r:i,startAngle:a,endAngle:a,clockwise:r}});return(s?n.initProps:n.updateProps)(g,{shape:{endAngle:a+(r?1:-1)*Math.PI*2}},o,l),g},containPoint:function(e,t){var i=t.getData().getItemLayout(0);if(i){var a=e[0]-i.cx,n=e[1]-i.cy,r=Math.sqrt(a*a+n*n);return r<=i.r&&r>=i.r0}}});e.exports=h},17659:(e,t,i)=>{var a=i(80423),n=i(85669).parsePercent,r=Math.PI/180;function l(e,t,i,a,n,r,l,o,s,g){function h(t,i,a,n){for(var r=t;r<i&&!(e[r].y+a>s+l);r++)if(e[r].y+=a,r>t&&r+1<i&&e[r+1].y>e[r].y+e[r].height)return void c(r,a/2);c(i-1,a/2)}function c(t,i){for(var a=t;a>=0&&!(e[a].y-i<s)&&(e[a].y-=i,!(a>0&&e[a].y>e[a-1].y+e[a-1].height));a--);}function d(e,t,i,a,n,r){for(var l=t?Number.MAX_VALUE:0,o=0,s=e.length;o<s;o++)if("none"===e[o].labelAlignTo){var g=Math.abs(e[o].y-a),h=e[o].len,c=e[o].len2,d=g<n+h?Math.sqrt((n+h+c)*(n+h+c)-g*g):Math.abs(e[o].x-i);t&&d>=l&&(d=l-10),!t&&d<=l&&(d=l+10),e[o].x=i+d*r,l=d}}e.sort((function(e,t){return e.y-t.y}));for(var u,p=0,m=e.length,y=[],f=[],v=0;v<m;v++){if("outer"===e[v].position&&"labelLine"===e[v].labelAlignTo){var x=e[v].x-g;e[v].linePoints[1][0]+=x,e[v].x=g}(u=e[v].y-p)<0&&h(v,m,-u),p=e[v].y+e[v].height}l-p<0&&c(m-1,p-l);for(v=0;v<m;v++)e[v].y>=i?f.push(e[v]):y.push(e[v]);d(y,!1,t,i,a,n),d(f,!0,t,i,a,n)}function o(e){return"center"===e.position}e.exports=function(e,t,i,s,g,h){var c,d,u=e.getData(),p=[],m=!1,y=(e.get("minShowLabelAngle")||0)*r;u.each((function(r){var l=u.getItemLayout(r),o=u.getItemModel(r),s=o.getModel("label"),h=s.get("position")||o.get("emphasis.label.position"),f=s.get("distanceToLabelLine"),v=s.get("alignTo"),x=n(s.get("margin"),i),b=s.get("bleedMargin"),w=s.getFont(),M=o.getModel("labelLine"),S=M.get("length");S=n(S,i);var A=M.get("length2");if(A=n(A,i),!(l.angle<y)){var I,L,P,D,T=(l.startAngle+l.endAngle)/2,N=Math.cos(T),_=Math.sin(T);c=l.cx,d=l.cy;var k,C=e.getFormattedLabel(r,"normal")||u.getName(r),E=a.getBoundingRect(C,w,D,"top"),G="inside"===h||"inner"===h;if("center"===h)I=l.cx,L=l.cy,D="center";else{var O=(G?(l.r+l.r0)/2*N:l.r*N)+c,V=(G?(l.r+l.r0)/2*_:l.r*_)+d;if(I=O+3*N,L=V+3*_,!G){var R=O+N*(S+t-l.r),W=V+_*(S+t-l.r),H=R+(N<0?-1:1)*A;I="edge"===v?N<0?g+x:g+i-x:H+(N<0?-f:f),L=W,P=[[O,V],[R,W],[H,W]]}D=G?"center":"edge"===v?N>0?"right":"left":N>0?"left":"right"}var z=s.get("rotate");k="number"==typeof z?z*(Math.PI/180):z?N<0?-T+Math.PI:-T:0,m=!!k,l.label={x:I,y:L,position:h,height:E.height,len:S,len2:A,linePoints:P,textAlign:D,verticalAlign:"middle",rotation:k,inside:G,labelDistance:f,labelAlignTo:v,labelMargin:x,bleedMargin:b,textRect:E,text:C,font:w},G||p.push(l.label)}})),!m&&e.get("avoidLabelOverlap")&&function(e,t,i,n,r,s,g,h){for(var c=[],d=[],u=Number.MAX_VALUE,p=-Number.MAX_VALUE,m=0;m<e.length;m++)o(e[m])||(e[m].x<t?(u=Math.min(u,e[m].x),c.push(e[m])):(p=Math.max(p,e[m].x),d.push(e[m])));for(l(d,t,i,n,1,0,s,0,h,p),l(c,t,i,n,-1,0,s,0,h,u),m=0;m<e.length;m++){var y=e[m];if(!o(y)){var f=y.linePoints;if(f){var v,x="edge"===y.labelAlignTo,b=y.textRect.width;(v=x?y.x<t?f[2][0]-y.labelDistance-g-y.labelMargin:g+r-y.labelMargin-f[2][0]-y.labelDistance:y.x<t?y.x-g-y.bleedMargin:g+r-y.x-y.bleedMargin)<y.textRect.width&&(y.text=a.truncateText(y.text,v,y.font),"edge"===y.labelAlignTo&&(b=a.getWidth(y.text,y.font)));var w=f[1][0]-f[2][0];x?y.x<t?f[2][0]=g+y.labelMargin+b+y.labelDistance:f[2][0]=g+r-y.labelMargin-b-y.labelDistance:(y.x<t?f[2][0]=y.x+y.labelDistance:f[2][0]=y.x-y.labelDistance,f[1][0]=f[2][0]+w),f[1][1]=f[2][1]=y.y}}}}(p,c,d,t,i,s,g,h)}},63798:(e,t,i)=>{var a=i(85669),n=a.parsePercent,r=a.linearMap,l=i(76172),o=i(17659),s=i(33051),g=2*Math.PI,h=Math.PI/180;e.exports=function(e,t,i,a){t.eachSeriesByType(e,(function(e){var t=e.getData(),a=t.mapDimension("value"),c=function(e,t){return l.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,i),d=e.get("center"),u=e.get("radius");s.isArray(u)||(u=[0,u]),s.isArray(d)||(d=[d,d]);var p=n(c.width,i.getWidth()),m=n(c.height,i.getHeight()),y=Math.min(p,m),f=n(d[0],p)+c.x,v=n(d[1],m)+c.y,x=n(u[0],y/2),b=n(u[1],y/2),w=-e.get("startAngle")*h,M=e.get("minAngle")*h,S=0;t.each(a,(function(e){!isNaN(e)&&S++}));var A=t.getSum(a),I=Math.PI/(A||S)*2,L=e.get("clockwise"),P=e.get("roseType"),D=e.get("stillShowZeroSum"),T=t.getDataExtent(a);T[0]=0;var N=g,_=0,k=w,C=L?1:-1;if(t.each(a,(function(e,i){var a;if(isNaN(e))t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:L,cx:f,cy:v,r0:x,r:P?NaN:b,viewRect:c});else{(a="area"!==P?0===A&&D?I:e*I:g/S)<M?(a=M,N-=M):_+=e;var n=k+C*a;t.setItemLayout(i,{angle:a,startAngle:k,endAngle:n,clockwise:L,cx:f,cy:v,r0:x,r:P?r(e,T,[x,b]):b,viewRect:c}),k=n}})),N<g&&S)if(N<=.001){var E=g/S;t.each(a,(function(e,i){if(!isNaN(e)){var a=t.getItemLayout(i);a.angle=E,a.startAngle=w+C*i*E,a.endAngle=w+C*(i+1)*E}}))}else I=N/_,k=w,t.each(a,(function(e,i){if(!isNaN(e)){var a=t.getItemLayout(i),n=a.angle===M?M:e*I;a.startAngle=k,a.endAngle=k+C*n,k+=C*n}}));o(e,b,c.width,c.height,c.x,c.y)}))}}}]);