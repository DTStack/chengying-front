"use strict";(self.webpackChunkdt_em_front=self.webpackChunkdt_em_front||[]).push([[5283],{44101:(e,t,n)=>{n.d(t,{H9:()=>P,He:()=>O,OH:()=>z,KZ:()=>k,RN:()=>T,Ct:()=>R,Az:()=>A,MY:()=>f,vH:()=>M,vN:()=>N,K7:()=>j,wT:()=>V,vJ:()=>b,AD:()=>C,aC:()=>U,xp:()=>L,vI:()=>x,mX:()=>E,bw:()=>h,zu:()=>y,pM:()=>F,id:()=>I,ln:()=>B,FL:()=>S,G0:()=>v,AC:()=>W,nD:()=>w,WW:()=>g,NX:()=>c,RW:()=>H,tA:()=>D,jr:()=>d,Sy:()=>u,vx:()=>p});var i=n(70666),r=n(24314),s=n(21036),o=n(4669),a=n(9917);var l=n(73046);class c{static getLanguageId(e){return(255&e)>>>0}static getTokenType(e){return(1792&e)>>>8}static getFontStyle(e){return(14336&e)>>>11}static getForeground(e){return(8372224&e)>>>14}static getBackground(e){return(4286578688&e)>>>23}static getClassNameFromMetadata(e){let t="mtk"+this.getForeground(e),n=this.getFontStyle(e);return 1&n&&(t+=" mtki"),2&n&&(t+=" mtkb"),4&n&&(t+=" mtku"),t}static getInlineStyleFromMetadata(e,t){const n=this.getForeground(e),i=this.getFontStyle(e);let r=`color: ${t[n]};`;return 1&i&&(r+="font-style: italic;"),2&i&&(r+="font-weight: bold;"),4&i&&(r+="text-decoration: underline;"),r}}const u=function(){let e=Object.create(null);return e[0]="symbol-method",e[1]="symbol-function",e[2]="symbol-constructor",e[3]="symbol-field",e[4]="symbol-variable",e[5]="symbol-class",e[6]="symbol-struct",e[7]="symbol-interface",e[8]="symbol-module",e[9]="symbol-property",e[10]="symbol-event",e[11]="symbol-operator",e[12]="symbol-unit",e[13]="symbol-value",e[14]="symbol-constant",e[15]="symbol-enum",e[16]="symbol-enum-member",e[17]="symbol-keyword",e[27]="symbol-snippet",e[18]="symbol-text",e[19]="symbol-color",e[20]="symbol-file",e[21]="symbol-reference",e[22]="symbol-customcolor",e[23]="symbol-folder",e[24]="symbol-type-parameter",e[25]="account",e[26]="issues",function(t){const n=e[t];let i=n&&l.fK.get(n);return i||(i=l.lA.symbolProperty),i.classNames}}();let d=function(){let e=Object.create(null);return e.method=0,e.function=1,e.constructor=2,e.field=3,e.variable=4,e.class=5,e.struct=6,e.interface=7,e.module=8,e.property=9,e.event=10,e.operator=11,e.unit=12,e.value=13,e.constant=14,e.enum=15,e["enum-member"]=16,e.enumMember=16,e.keyword=17,e.snippet=27,e.text=18,e.color=19,e.file=20,e.reference=21,e.customcolor=22,e.folder=23,e["type-parameter"]=24,e.typeParameter=24,e.account=25,e.issue=26,function(t,n){let i=e[t];return void 0!==i||n||(i=9),i}}();var h,g,f,_,m;function p(e){return e&&i.o.isUri(e.uri)&&r.e.isIRange(e.range)&&(r.e.isIRange(e.originSelectionRange)||r.e.isIRange(e.targetSelectionRange))}!function(e){e[e.Automatic=0]="Automatic",e[e.Explicit=1]="Explicit"}(h||(h={})),function(e){e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange"}(g||(g={})),function(e){e[e.Text=0]="Text",e[e.Read=1]="Read",e[e.Write=2]="Write"}(f||(f={})),function(e){const t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);const n=new Map;n.set(0,"file"),n.set(1,"module"),n.set(2,"namespace"),n.set(3,"package"),n.set(4,"class"),n.set(5,"method"),n.set(6,"property"),n.set(7,"field"),n.set(8,"constructor"),n.set(9,"enum"),n.set(10,"interface"),n.set(11,"function"),n.set(12,"variable"),n.set(13,"constant"),n.set(14,"string"),n.set(15,"number"),n.set(16,"boolean"),n.set(17,"array"),n.set(18,"object"),n.set(19,"key"),n.set(20,"null"),n.set(21,"enum-member"),n.set(22,"struct"),n.set(23,"event"),n.set(24,"operator"),n.set(25,"type-parameter"),e.fromString=function(e){return t.get(e)},e.toString=function(e){return n.get(e)},e.toCssClassName=function(e,t){const i=n.get(e);let r=i&&l.fK.get("symbol-"+i);return r||(r=l.lA.symbolProperty),`${t?"inline":"block"} ${r.classNames}`}}(_||(_={}));class C{constructor(e){this.value=e}}C.Comment=new C("comment"),C.Imports=new C("imports"),C.Region=new C("region"),function(e){e[e.Other=0]="Other",e[e.Type=1]="Type",e[e.Parameter=2]="Parameter"}(m||(m={}));const S=new s.c,v=new s.c,k=new s.c,y=new s.c,w=new s.c,L=new s.c,b=new s.c,M=new s.c,I=new s.c,R=new s.c,T=new s.c,x=new s.c,D=new s.c,O=new s.c,E=new s.c,P=new s.c,A=new s.c,N=new s.c,B=new s.c,F=new s.c,z=new s.c,W=new s.c,U=new s.c,V=new s.c,j=new s.c,H=new class{constructor(){this._map=new Map,this._promises=new Map,this._onDidChange=new o.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})}register(e,t){return this._map.set(e,t),this.fire([e]),(0,a.OF)(()=>{this._map.get(e)===t&&(this._map.delete(e),this.fire([e]))})}registerPromise(e,t){let n=null,i=!1;return this._promises.set(e,t.then(t=>{this._promises.delete(e),!i&&t&&(n=this.register(e,t))})),(0,a.OF)(()=>{i=!0,n&&n.dispose()})}getPromise(e){const t=this.get(e);if(t)return Promise.resolve(t);const n=this._promises.get(e);return n?n.then(t=>this.get(e)):null}get(e){return this._map.get(e)||null}setColorMap(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},97354:(e,t,n)=>{var i;n.d(t,{V6:()=>r,c$:()=>s,wU:()=>i}),function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent",e[e.Outdent=3]="Outdent"}(i||(i={}));class r{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(let t=0,n=e.notIn.length;t<n;t++){switch(e.notIn[t]){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4}}}isOK(e){return 0==(this._standardTokenMask&e)}shouldAutoClose(e,t){if(0===e.getTokenCount())return!0;const n=e.findTokenIndexAtOffset(t-2),i=e.getStandardTokenType(n);return this.isOK(i)}_findNeutralCharacterInRange(e,t){for(let n=e;n<=t;n++){const e=String.fromCharCode(n);if(!this.open.includes(e)&&!this.close.includes(e))return e}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class s{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)o(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),o(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),o(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),o(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),1===t.close.length&&1===t.open.length&&o(this.autoClosingPairsCloseSingleChar,t.close,t)}}function o(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}},83831:(e,t,n)=>{n.d(t,{c_:()=>b,zu:()=>x,UU:()=>M});var i=n(4669),r=n(9917),s=n(97295),o=n(97461),a=n(97354),l=n(40764);class c{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(e=>new a.V6(e)):e.brackets?this._autoClosingPairs=e.brackets.map(e=>new a.V6({open:e[0],close:e[1]})):this._autoClosingPairs=[],e.colorizedBracketPairs?this._colorizedBracketPairs=u(e.colorizedBracketPairs.map(e=>[e[0],e[1]])):e.brackets?this._colorizedBracketPairs=u(e.brackets.map(e=>[e[0],e[1]]).filter(e=>!("<"===e[0]&&">"===e[1]))):this._colorizedBracketPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new a.V6({open:t.open,close:t.close||""}))}this._autoCloseBefore="string"==typeof e.autoCloseBefore?e.autoCloseBefore:c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}getColorizedBrackets(){return this._colorizedBracketPairs}}function u(e){return e.filter(([e,t])=>""!==e&&""!==t)}c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t";var d=n(9488),h=n(34227);class g{constructor(e){this._richEditBrackets=e}getElectricCharacters(){let e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const n of t.close){const t=n.charAt(n.length-1);e.push(t)}return(0,d.EB)(e)}onElectricCharacter(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const i=t.findTokenIndexAtOffset(n-1);if((0,l.Bu)(t.getStandardTokenType(i)))return null;const r=this._richEditBrackets.reversedRegex,s=t.getLineContent().substring(0,n-1)+e,o=h.Vr.findPrevBracketInRange(r,1,s,0,s.length);if(!o)return null;const a=s.substring(o.startColumn-1,o.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[a])return null;const c=t.getActualLineContentBefore(o.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:a}:null}}function f(e){return e.global&&(e.lastIndex=0),!0}class _{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&f(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&f(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&f(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&f(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}var m=n(17301);class p{constructor(e){(e=e||{}).brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(e=>{const t=p._createOpenBracketRegExp(e[0]),n=p._createCloseBracketRegExp(e[1]);t&&n&&this._brackets.push({open:e[0],openRegExp:t,close:e[1],closeRegExp:n})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,n,i){if(e>=3)for(let e=0,r=this._regExpRules.length;e<r;e++){let r=this._regExpRules[e];if([{reg:r.beforeText,text:n},{reg:r.afterText,text:i},{reg:r.previousLineText,text:t}].every(e=>!e.reg||(e.reg.lastIndex=0,e.reg.test(e.text))))return r.action}if(e>=2&&n.length>0&&i.length>0)for(let e=0,t=this._brackets.length;e<t;e++){let t=this._brackets[e];if(t.openRegExp.test(n)&&t.closeRegExp.test(i))return{indentAction:a.wU.IndentOutdent}}if(e>=2&&n.length>0)for(let e=0,t=this._brackets.length;e<t;e++){if(this._brackets[e].openRegExp.test(n))return{indentAction:a.wU.Indent}}return null}static _createOpenBracketRegExp(e){let t=s.ec(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",p._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=s.ec(e);return/\B/.test(t.charAt(t.length-1))||(t+="\\b"),t="^\\s*"+t,p._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(e){return(0,m.dL)(e),null}}}var C=n(72065),S=n(33108),v=n(71531),k=n(65026),y=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},w=function(e,t){return function(n,i){t(n,i,e)}};class L{constructor(e){this.languageId=e}affects(e){return!this.languageId||this.languageId===e}}const b=(0,C.yh)("languageConfigurationService");let M=class extends r.JT{constructor(e,t){super(),this.configurationService=e,this.modeService=t,this.onDidChangeEmitter=this._register(new i.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const n=new Set(Object.values(I));this._register(this.configurationService.onDidChangeConfiguration(e=>{const t=e.change.keys.some(e=>n.has(e)),i=e.change.overrides.filter(([e,t])=>t.some(e=>n.has(e))).map(([e])=>this.modeService.validateLanguageId(e));if(t)this.configurations.clear(),this.onDidChangeEmitter.fire(new L(void 0));else for(const e of i)e&&(this.configurations.delete(e),this.onDidChangeEmitter.fire(new L(e)))})),this._register(x.onDidChange(e=>{this.configurations.delete(e.languageId),this.onDidChangeEmitter.fire(new L(e.languageId))}))}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=function(e,t,n){let i=x.getLanguageConfiguration(e);if(!i){const t=n.validateLanguageId(e);if(!t)throw new Error("Unexpected languageId");i=new P(t,{})}const r=function(e,t){const n=t.getValue(I.brackets,{overrideIdentifier:e}),i=t.getValue(I.colorizedBracketPairs,{overrideIdentifier:e});return{brackets:R(n),colorizedBracketPairs:R(i)}}(i.languageId,t),s=O([i.underlyingConfig,r]);return new P(i.languageId,s)}(e,this.configurationService,this.modeService),this.configurations.set(e,t)),t}};M=y([w(0,S.Ui),w(1,v.h)],M);const I={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function R(e){if(Array.isArray(e))return e.map(e=>{if(Array.isArray(e)&&2===e.length)return[e[0],e[1]]}).filter(e=>!!e)}class T{constructor(e){this.languageId=e}}const x=new class{constructor(){this._entries=new Map,this._onDidChange=new i.Q5,this.onDidChange=this._onDidChange.event}register(e,t,n=0){let i=this._entries.get(e);i||(i=new D(e),this._entries.set(e,i));const s=i.register(t,n);return this._onDidChange.fire(new T(e)),(0,r.OF)(()=>{s.dispose(),this._onDidChange.fire(new T(e))})}getLanguageConfiguration(e){let t=this._entries.get(e);return(null==t?void 0:t.getResolvedConfiguration())||null}getIndentationRules(e){const t=this.getLanguageConfiguration(e);return t&&t.indentationRules||null}_getElectricCharacterSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.electricCharacter||null}getElectricCharacters(e){let t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]}onElectricCharacter(e,t,n){let i=(0,l.wH)(t,n-1),r=this._getElectricCharacterSupport(i.languageId);return r?r.onElectricCharacter(e,i,n-i.firstCharOffset):null}getComments(e){let t=this.getLanguageConfiguration(e);return t&&t.comments||null}_getCharacterPairSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.characterPair||null}getAutoClosingPairs(e){const t=this._getCharacterPairSupport(e);return new a.c$(t?t.getAutoClosingPairs():[])}getAutoCloseBeforeSet(e){let t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():c.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED}getSurroundingPairs(e){let t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]}getWordDefinition(e){let t=this.getLanguageConfiguration(e);return t?(0,o.eq)(t.wordDefinition||null):(0,o.eq)(null)}getFoldingRules(e){let t=this.getLanguageConfiguration(e);return t?t.foldingRules:{}}getIndentRulesSupport(e){let t=this.getLanguageConfiguration(e);return t&&t.indentRulesSupport||null}getPrecedingValidLine(e,t,n){let i=e.getLanguageIdAtPosition(t,0);if(t>1){let r,s=-1;for(r=t-1;r>=1;r--){if(e.getLanguageIdAtPosition(r,0)!==i)return s;let t=e.getLineContent(r);if(!n.shouldIgnore(t)&&!/^\s+$/.test(t)&&""!==t)return r;s=r}}return-1}getInheritIndentForLine(e,t,n,i=!0){if(e<4)return null;const r=this.getIndentRulesSupport(t.getLanguageId());if(!r)return null;if(n<=1)return{indentation:"",action:null};const o=this.getPrecedingValidLine(t,n,r);if(o<0)return null;if(o<1)return{indentation:"",action:null};const l=t.getLineContent(o);if(r.shouldIncrease(l)||r.shouldIndentNextLine(l))return{indentation:s.V8(l),action:a.wU.Indent,line:o};if(r.shouldDecrease(l))return{indentation:s.V8(l),action:null,line:o};{if(1===o)return{indentation:s.V8(t.getLineContent(o)),action:null,line:o};const e=o-1,n=r.getIndentMetadata(t.getLineContent(e));if(!(3&n)&&4&n){let n=0;for(let i=e-1;i>0;i--)if(!r.shouldIndentNextLine(t.getLineContent(i))){n=i;break}return{indentation:s.V8(t.getLineContent(n+1)),action:null,line:n+1}}if(i)return{indentation:s.V8(t.getLineContent(o)),action:null,line:o};for(let e=o;e>0;e--){const n=t.getLineContent(e);if(r.shouldIncrease(n))return{indentation:s.V8(n),action:a.wU.Indent,line:e};if(r.shouldIndentNextLine(n)){let n=0;for(let i=e-1;i>0;i--)if(!r.shouldIndentNextLine(t.getLineContent(e))){n=i;break}return{indentation:s.V8(t.getLineContent(n+1)),action:null,line:n+1}}if(r.shouldDecrease(n))return{indentation:s.V8(n),action:null,line:e}}return{indentation:s.V8(t.getLineContent(1)),action:null,line:1}}}getGoodIndentForLine(e,t,n,i,r){if(e<4)return null;const o=this.getLanguageConfiguration(n);if(!o)return null;const l=this.getIndentRulesSupport(n);if(!l)return null;const c=this.getInheritIndentForLine(e,t,i),u=t.getLineContent(i);if(c){const n=c.line;if(void 0!==n){const i=o.onEnter(e,"",t.getLineContent(n),"");if(i){let e=s.V8(t.getLineContent(n));return i.removeText&&(e=e.substring(0,e.length-i.removeText)),i.indentAction===a.wU.Indent||i.indentAction===a.wU.IndentOutdent?e=r.shiftIndent(e):i.indentAction===a.wU.Outdent&&(e=r.unshiftIndent(e)),l.shouldDecrease(u)&&(e=r.unshiftIndent(e)),i.appendText&&(e+=i.appendText),s.V8(e)}}return l.shouldDecrease(u)?c.action===a.wU.Indent?c.indentation:r.unshiftIndent(c.indentation):c.action===a.wU.Indent?r.shiftIndent(c.indentation):c.indentation}return null}getIndentForEnter(e,t,n,i){if(e<4)return null;t.forceTokenization(n.startLineNumber);const r=t.getLineTokens(n.startLineNumber),o=(0,l.wH)(r,n.startColumn-1),c=o.getLineContent();let u,d,h=!1;if(o.firstCharOffset>0&&r.getLanguageId(0)!==o.languageId?(h=!0,u=c.substr(0,n.startColumn-1-o.firstCharOffset)):u=r.getLineContent().substring(0,n.startColumn-1),n.isEmpty())d=c.substr(n.startColumn-1-o.firstCharOffset);else{d=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-o.firstCharOffset)}const g=this.getIndentRulesSupport(o.languageId);if(!g)return null;const f=u,_=s.V8(u),m={getLineTokens:e=>t.getLineTokens(e),getLanguageId:()=>t.getLanguageId(),getLanguageIdAtPosition:(e,n)=>t.getLanguageIdAtPosition(e,n),getLineContent:e=>e===n.startLineNumber?f:t.getLineContent(e)},p=s.V8(r.getLineContent()),C=this.getInheritIndentForLine(e,m,n.startLineNumber+1);if(!C){const e=h?p:_;return{beforeEnter:e,afterEnter:e}}let S=h?p:C.indentation;return C.action===a.wU.Indent&&(S=i.shiftIndent(S)),g.shouldDecrease(d)&&(S=i.unshiftIndent(S)),{beforeEnter:h?p:_,afterEnter:S}}getIndentActionForType(e,t,n,i,r){if(e<4)return null;const s=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn);if(s.firstCharOffset)return null;const o=this.getIndentRulesSupport(s.languageId);if(!o)return null;const l=s.getLineContent(),c=l.substr(0,n.startColumn-1-s.firstCharOffset);let u;if(n.isEmpty())u=l.substr(n.startColumn-1-s.firstCharOffset);else{u=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-s.firstCharOffset)}if(!o.shouldDecrease(c+u)&&o.shouldDecrease(c+i+u)){const i=this.getInheritIndentForLine(e,t,n.startLineNumber,!1);if(!i)return null;let s=i.indentation;return i.action!==a.wU.Indent&&(s=r.unshiftIndent(s)),s}return null}getIndentMetadata(e,t){const n=this.getIndentRulesSupport(e.getLanguageId());return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null}getEnterAction(e,t,n){const i=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn),r=this.getLanguageConfiguration(i.languageId);if(!r)return null;const s=i.getLineContent(),o=s.substr(0,n.startColumn-1-i.firstCharOffset);let l;if(n.isEmpty())l=s.substr(n.startColumn-1-i.firstCharOffset);else{l=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn).getLineContent().substr(n.endColumn-1-i.firstCharOffset)}let c="";if(n.startLineNumber>1&&0===i.firstCharOffset){const e=this.getScopedLineTokens(t,n.startLineNumber-1);e.languageId===i.languageId&&(c=e.getLineContent())}const u=r.onEnter(e,c,o,l);if(!u)return null;const d=u.indentAction;let h=u.appendText;const g=u.removeText||0;h?d===a.wU.Indent&&(h="\t"+h):h=d===a.wU.Indent||d===a.wU.IndentOutdent?"\t":"";let f=this.getIndentationAtPosition(t,n.startLineNumber,n.startColumn);return g&&(f=f.substring(0,f.length-g)),{indentAction:d,appendText:h,removeText:g,indentation:f}}getIndentationAtPosition(e,t,n){const i=e.getLineContent(t);let r=s.V8(i);return r.length>n-1&&(r=r.substring(0,n-1)),r}getScopedLineTokens(e,t,n){e.forceTokenization(t);const i=e.getLineTokens(t),r=void 0===n?e.getLineMaxColumn(t)-1:n-1;return(0,l.wH)(i,r)}};class D{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const n=new E(e,t,++this._order);return this._entries.push(n),this._resolved=null,(0,r.OF)(()=>{for(let e=0;e<this._entries.length;e++)if(this._entries[e]===n){this._entries.splice(e,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new P(this.languageId,e))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(E.cmp),O(this._entries.map(e=>e.configuration)))}}function O(e){let t={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const n of e)t={comments:n.comments||t.comments,brackets:n.brackets||t.brackets,wordPattern:n.wordPattern||t.wordPattern,indentationRules:n.indentationRules||t.indentationRules,onEnterRules:n.onEnterRules||t.onEnterRules,autoClosingPairs:n.autoClosingPairs||t.autoClosingPairs,surroundingPairs:n.surroundingPairs||t.surroundingPairs,autoCloseBefore:n.autoCloseBefore||t.autoCloseBefore,folding:n.folding||t.folding,colorizedBracketPairs:n.colorizedBracketPairs||t.colorizedBracketPairs,__electricCharacterSupport:n.__electricCharacterSupport||t.__electricCharacterSupport};return t}class E{constructor(e,t,n){this.configuration=e,this.priority=t,this.order=n}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class P{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new p(this.underlyingConfig):null,this.comments=P._handleComments(this.underlyingConfig),this.characterPair=new c(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||o.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new _(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{}}getWordDefinition(){return(0,o.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new h.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new g(this.brackets)),this._electricCharacter}onEnter(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null}static _handleComments(e){let t=e.comments;if(!t)return null;let n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){let[e,i]=t.blockComment;n.blockCommentStartToken=e,n.blockCommentEndToken=i}return n}}(0,k.z)(b,M)},21036:(e,t,n)=>{n.d(t,{c:()=>g,Y:()=>m});var i=n(4669),r=n(89954),s=n(9917),o=n(43702),a=n(59870),l=n(14118),c=n(88721);function u(e,t,n,i){if(Array.isArray(e)){let r=0;for(const s of e){const e=u(s,t,n,i);if(10===e)return e;e>r&&(r=e)}return r}if("string"==typeof e)return i?"*"===e?5:e===n?10:0:0;if(e){const{language:r,pattern:s,scheme:o,hasAccessToAllModels:a}=e;if(!i&&!a)return 0;let u=0;if(o)if(o===t.scheme)u=10;else{if("*"!==o)return 0;u=5}if(r)if(r===n)u=10;else{if("*"!==r)return 0;u=Math.max(u,5)}if(s){let e;if(e="string"==typeof s?s:Object.assign(Object.assign({},s),{base:(0,c.Fv)(s.base)}),e!==t.fsPath&&!(0,l.EQ)(e,t.fsPath))return 0;u=10}return u}return 0}var d=n(51200);function h(e){return"string"!=typeof e&&(Array.isArray(e)?e.every(h):!!e.exclusive)}class g{constructor(){this._clock=0,this._entries=[],this._onDidChange=new i.Q5}get onDidChange(){return this._onDidChange.event}register(e,t){let n={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(n),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,s.OF)(()=>{if(n){let e=this._entries.indexOf(n);e>=0&&(this._entries.splice(e,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),n=void 0)}})}has(e){return this.all(e).length>0}all(e){if(!e)return[];this._updateScores(e);const t=[];for(let e of this._entries)e._score>0&&t.push(e.provider);return t}ordered(e){const t=[];return this._orderedForEach(e,e=>t.push(e.provider)),t}orderedGroups(e){const t=[];let n,i;return this._orderedForEach(e,e=>{n&&i===e._score?n.push(e.provider):(i=e._score,n=[e.provider],t.push(n))}),t}_orderedForEach(e,t){if(e){this._updateScores(e);for(const e of this._entries)e._score>0&&t(e)}}_updateScores(e){let t={uri:e.uri.toString(),language:e.getLanguageId()};if(!this._lastCandidate||this._lastCandidate.language!==t.language||this._lastCandidate.uri!==t.uri){this._lastCandidate=t;for(let t of this._entries)if(t._score=u(t.selector,e.uri,e.getLanguageId(),(0,d.p)(e)),h(t.selector)&&t._score>0){for(let e of this._entries)e._score=0;t._score=1e3;break}this._entries.sort(g._compareByScoreAndTime)}}static _compareByScoreAndTime(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0}}const f=new WeakMap;let _=0;class m{constructor(e,t,n=Number.MAX_SAFE_INTEGER){this._registry=e,this.min=t,this.max=n,this._cache=new o.z6(50,.7)}_key(e){return e.id+this._registry.all(e).reduce((e,t)=>(0,r.SP)(function(e){let t=f.get(e);return void 0===t&&(t=++_,f.set(e,t)),t}(t),e),0)}_clamp(e){return void 0===e?this.min:Math.min(this.max,Math.max(this.min,Math.floor(1.3*e)))}get(e){const t=this._key(e),n=this._cache.get(t);return this._clamp(null==n?void 0:n.value)}update(e,t){const n=this._key(e);let i=this._cache.get(n);return i||(i=new a.n,this._cache.set(n,i)),i.update(t),this.get(e)}}},71144:(e,t,n)=>{n.d(t,{XT:()=>u,dQ:()=>c});var i=n(63580),r=n(4669),s=n(83831),o=n(89872),a=n(81170),l=n(23193);const c=new class{constructor(){this._onDidChangeLanguages=new r.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let t=0,n=this._languages.length;t<n;t++)if(this._languages[t]===e)return void this._languages.splice(t,1)}}}getLanguages(){return[].concat(this._languages).concat(this._dynamicLanguages)}};o.B.add("editor.modesRegistry",c);const u="plaintext";c.registerLanguage({id:u,extensions:[".txt"],aliases:[i.N("plainText.alias","Plain Text"),"text"],mimetypes:[a.vW.text]}),s.zu.register(u,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0),o.B.as(l.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1}}}])},28111:(e,t,n)=>{n.d(t,{Ri:()=>o,TG:()=>s,mh:()=>a,nO:()=>r});var i=n(85600);const r=new class{clone(){return this}equals(e){return this===e}},s="vs.editor.nullMode";function o(e,t,n,r){return new i.hG([new i.WU(r,"",e)],n)}function a(e,t,n,s){let o=new Uint32Array(2);return o[0]=s,o[1]=(16384|e<<0|2<<23)>>>0,new i.Hi(o,null===n?r:n)}},40764:(e,t,n)=>{function i(e,t){let n=e.getCount(),i=e.findTokenIndexAtOffset(t),s=e.getLanguageId(i),o=i;for(;o+1<n&&e.getLanguageId(o+1)===s;)o++;let a=i;for(;a>0&&e.getLanguageId(a-1)===s;)a--;return new r(e,s,a,o+1,e.getStartOffset(a),e.getEndOffset(o))}n.d(t,{Bu:()=>s,wH:()=>i});class r{constructor(e,t,n,i,r,s){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=r,this._lastCharOffset=s}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}}function s(e){return 0!=(7&e)}},34227:(e,t,n)=>{n.d(t,{EA:()=>a,Vr:()=>f});var i=n(97295),r=n(50072),s=n(24314);class o{constructor(e,t,n,i,r,s){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=n,this.close=i,this.forwardRegex=r,this.reversedRegex=s,this._openSet=o._toSet(this.open),this._closeSet=o._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const n of e)t.add(n);return t}}class a{constructor(e,t){this._richEditBracketsBrand=void 0;const n=function(e){const t=e.length;e=e.map(e=>[e[0].toLowerCase(),e[1].toLowerCase()]);const n=[];for(let e=0;e<t;e++)n[e]=e;const i=(e,t)=>{const[n,i]=e,[r,s]=t;return n===r||n===s||i===r||i===s},r=(e,i)=>{const r=Math.min(e,i),s=Math.max(e,i);for(let e=0;e<t;e++)n[e]===s&&(n[e]=r)};for(let s=0;s<t;s++){const o=e[s];for(let a=s+1;a<t;a++){i(o,e[a])&&r(n[s],n[a])}}const s=[];for(let i=0;i<t;i++){let r=[],o=[];for(let s=0;s<t;s++)if(n[s]===i){const[t,n]=e[s];r.push(t),o.push(n)}r.length>0&&s.push({open:r,close:o})}return s}(t);this.brackets=n.map((t,i)=>new o(e,i,t.open,t.close,function(e,t,n,i){let r=[];r=r.concat(e),r=r.concat(t);for(let e=0,t=r.length;e<t;e++)l(r[e],n,i,r);return r=u(r),r.sort(c),r.reverse(),h(r)}(t.open,t.close,n,i),function(e,t,n,i){let r=[];r=r.concat(e),r=r.concat(t);for(let e=0,t=r.length;e<t;e++)l(r[e],n,i,r);return r=u(r),r.sort(c),r.reverse(),h(r.map(g))}(t.open,t.close,n,i))),this.forwardRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=u(t),h(t)}(this.brackets),this.reversedRegex=function(e){let t=[];for(const n of e){for(const e of n.open)t.push(e);for(const e of n.close)t.push(e)}return t=u(t),h(t.map(g))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const e of this.brackets){for(const t of e.open)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,t.length);for(const t of e.close)this.textIsBracket[t]=e,this.textIsOpenBracket[t]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,t.length)}}}function l(e,t,n,i){for(let r=0,s=t.length;r<s;r++){if(r===n)continue;const s=t[r];for(const t of s.open)t.indexOf(e)>=0&&i.push(t);for(const t of s.close)t.indexOf(e)>=0&&i.push(t)}}function c(e,t){return e.length-t.length}function u(e){if(e.length<=1)return e;const t=[],n=new Set;for(const i of e)n.has(i)||(t.push(i),n.add(i));return t}function d(e){const t=/^[\w ]+$/.test(e);return e=i.ec(e),t?`\\b${e}\\b`:e}function h(e){let t=`(${e.map(d).join(")|(")})`;return i.GF(t,!0)}const g=function(){let e=null,t=null;return function(n){return e!==n&&(e=n,t=function(e){if(r.lZ){const t=new Uint16Array(e.length);let n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charCodeAt(i);return r.oe().decode(t)}{let t=[],n=0;for(let i=e.length-1;i>=0;i--)t[n++]=e.charAt(i);return t.join("")}}(e)),t}}();class f{static _findPrevBracketInText(e,t,n,i){let r=n.match(e);if(!r)return null;let o=n.length-(r.index||0),a=r[0].length,l=i+o;return new s.e(t,l-a+1,t,l+1)}static findPrevBracketInRange(e,t,n,i,r){const s=g(n).substring(n.length-r,n.length-i);return this._findPrevBracketInText(e,t,s,i)}static findNextBracketInText(e,t,n,i){let r=n.match(e);if(!r)return null;let o=r.index||0,a=r[0].length;if(0===a)return null;let l=i+o;return new s.e(t,l+1,t,l+1+a)}static findNextBracketInRange(e,t,n,i,r){const s=n.substring(i,r);return this.findNextBracketInText(e,t,s,i)}}},96885:(e,t,n)=>{n.d(t,{si:()=>a,yr:()=>d});var i=n(41264);class r{constructor(e,t,n,i,r){this._parsedThemeRuleBrand=void 0,this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=r}}const s=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class o{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(e){if(null===e)return 0;const t=e.match(s);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();let n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=i.Il.fromHex("#"+e),n)}getColorMap(){return this._id2color.slice(0)}}class a{constructor(e,t){this._colorMap=e,this._root=t,this._cache=new Map}static createFromRawTokenTheme(e,t){return this.createFromParsedTokenTheme(function(e){if(!e||!Array.isArray(e))return[];let t=[],n=0;for(let i=0,s=e.length;i<s;i++){let s=e[i],o=-1;if("string"==typeof s.fontStyle){o=0;let e=s.fontStyle.split(" ");for(let t=0,n=e.length;t<n;t++){switch(e[t]){case"italic":o|=1;break;case"bold":o|=2;break;case"underline":o|=4}}}let a=null;"string"==typeof s.foreground&&(a=s.foreground);let l=null;"string"==typeof s.background&&(l=s.background),t[n++]=new r(s.token||"",i,o,a,l)}return t}(e),t)}static createFromParsedTokenTheme(e,t){return function(e,t){e.sort((e,t)=>{let n=function(e,t){if(e<t)return-1;if(e>t)return 1;return 0}(e.token,t.token);return 0!==n?n:e.index-t.index});let n=0,i="000000",r="ffffff";for(;e.length>=1&&""===e[0].token;){let t=e.shift();-1!==t.fontStyle&&(n=t.fontStyle),null!==t.foreground&&(i=t.foreground),null!==t.background&&(r=t.background)}let s=new o;for(let e of t)s.getId(e);let l=s.getId(i),d=s.getId(r),h=new c(n,l,d),g=new u(h);for(let t=0,n=e.length;t<n;t++){let n=e[t];g.insert(n.token,n.fontStyle,s.getId(n.foreground),s.getId(n.background))}return new a(s,g)}(e,t)}getColorMap(){return this._colorMap.getColorMap()}_match(e){return this._root.match(e)}match(e,t){let n=this._cache.get(t);if(void 0===n){let e=this._match(t),i=function(e){let t=e.match(l);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}(t);n=(e.metadata|i<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0}}const l=/\b(comment|string|regex|regexp)\b/;class c{constructor(e,t,n){this._themeTrieElementRuleBrand=void 0,this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}clone(){return new c(this._fontStyle,this._foreground,this._background)}acceptOverwrite(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}}class u{constructor(e){this._themeTrieElementBrand=void 0,this._mainRule=e,this._children=new Map}match(e){if(""===e)return this._mainRule;let t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));let r=this._children.get(t);return void 0!==r?r.match(n):this._mainRule}insert(e,t,n,i){if(""===e)return void this._mainRule.acceptOverwrite(t,n,i);let r,s,o=e.indexOf(".");-1===o?(r=e,s=""):(r=e.substring(0,o),s=e.substring(o+1));let a=this._children.get(r);void 0===a&&(a=new u(this._mainRule.clone()),this._children.set(r,a)),a.insert(s,t,n,i)}}function d(e){let t=[];for(let n=1,i=e.length;n<i;n++){let i=e[n];t[n]=`.mtk${n} { color: ${i}; }`}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}},55713:(e,t,n)=>{n.d(t,{C:()=>a,F:()=>l});var i=n(97295),r=n(78411),s=n(28111);const o={getInitialState:()=>s.nO,tokenize2:(e,t,n,i)=>(0,s.mh)(0,e,n,i)};function a(e,t,n=o){return function(e,t,n){let s='<div class="monaco-tokenized-source">';const o=i.uq(e);let a=n.getInitialState();for(let e=0,l=o.length;e<l;e++){const l=o[e];e>0&&(s+="<br/>");const c=n.tokenize2(l,!0,a,0);r.A.convertToEndOffset(c.tokens,l.length);const u=new r.A(c.tokens,l,t).inflate();let d=0;for(let e=0,t=u.getCount();e<t;e++){const t=u.getClassName(e),n=u.getEndOffset(e);s+=`<span class="${t}">${i.YU(l.substring(d,n))}</span>`,d=n}a=c.endState}return s+="</div>",s}(e,t,n||o)}function l(e,t,n,i,r,s,o){let a="<div>",l=i,c=0,u=!0;for(let d=0,h=t.getCount();d<h;d++){const h=t.getEndOffset(d);if(h<=i)continue;let g="";for(;l<h&&l<r;l++){const t=e.charCodeAt(l);switch(t){case 9:let e=s-(l+c)%s;for(c+=e-1;e>0;)o&&u?(g+="&#160;",u=!1):(g+=" ",u=!0),e--;break;case 60:g+="&lt;",u=!1;break;case 62:g+="&gt;",u=!1;break;case 38:g+="&amp;",u=!1;break;case 0:g+="&#00;",u=!1;break;case 65279:case 8232:case 8233:case 133:g+="�",u=!1;break;case 13:g+="&#8203",u=!1;break;case 32:o&&u?(g+="&#160;",u=!1):(g+=" ",u=!0);break;default:g+=String.fromCharCode(t),u=!1}}if(a+=`<span style="${t.getInlineStyle(d,n)}">${g}</span>`,h>r||l>=r)break}return a+="</div>",a}},49679:(e,t,n)=>{n.d(t,{a:()=>a});var i=n(24314),r=n(77277),s=n(97295),o=n(98401);class a{static computeUnicodeHighlights(e,t,n){const a=n?n.startLineNumber:1,c=n?n.endLineNumber:e.getLineCount(),u=new l(t),d=u.getCandidateCodePoints();let h;var g;h="allNonBasicAscii"===d?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(""+(g=Array.from(d),`[${s.ec(g.map(e=>String.fromCodePoint(e)).join(""))}]`),"g");const f=new r.sz(null,h),_=[];let m,p=!1,C=0,S=0,v=0;e:for(let t=a,n=c;t<=n;t++){const n=e.getLineContent(t),r=n.length;f.reset(0);do{if(m=f.next(n),m){let e=m.index,a=m.index+m[0].length;if(e>0){const t=n.charCodeAt(e-1);s.ZG(t)&&e--}if(a+1<r){const e=n.charCodeAt(a-1);s.ZG(e)&&a++}const l=n.substring(e,a),c=u.shouldHighlightNonBasicASCII(l);if(0!==c){3===c?C++:2===c?S++:1===c?v++:(0,o.vE)(c);const n=1e3;if(_.length>=n){p=!0;break e}_.push(new i.e(t,e+1,t,a+1))}}}while(m)}return{ranges:_,hasMore:p,ambiguousCharacterCount:C,invisibleCharacterCount:S,nonBasicAsciiCharacterCount:v}}static computeUnicodeHighlightReason(e,t){switch(new l(t).shouldHighlightNonBasicASCII(e)){case 0:return null;case 2:return{kind:1};case 3:const t=s.ZK.getPrimaryConfusable(e.codePointAt(0));return{kind:0,confusableWith:String.fromCodePoint(t)};case 1:return{kind:2}}}}class l{constructor(e){this.options=e,this.allowedCodePoints=new Set(e.allowedCodePoints)}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const e=new Set;if(this.options.invisibleCharacters)for(const t of s.vU.codePoints)e.add(t);if(this.options.ambiguousCharacters)for(const t of s.ZK.getPrimaryConfusableCodePoints())e.add(t);for(const t of this.allowedCodePoints)e.delete(t);return e}shouldHighlightNonBasicASCII(e){const t=e.codePointAt(0);if(this.allowedCodePoints.has(t))return 0;if(this.options.nonBasicASCII)return 1;if(this.options.invisibleCharacters){if(!(" "===e||"\n"===e||"\t"===e)&&s.vU.isInvisibleCharacter(t))return 2}return this.options.ambiguousCharacters&&s.ZK.isAmbiguous(t)?3:0}}},90469:(e,t,n)=>{n.d(t,{p:()=>i});const i=(0,n(72065).yh)("editorWorkerService")},48632:(e,t,n)=>{n.d(t,{Q8:()=>G,dI:()=>U});var i=n(15393),r=n(9917),s=n(18352),o=n(17549),a=n(24314),l=n(44101),c=n(83831),u=n(2484),d=n(1432),h=n(70666),g=n(50187),f=n(86237),_=n(29981),m=n(97461),p=n(44906);class C{constructor(e,t,n){const i=new Uint8Array(e*t);for(let r=0,s=e*t;r<s;r++)i[r]=n;this._data=i,this.rows=e,this.cols=t}get(e,t){return this._data[e*this.cols+t]}set(e,t,n){this._data[e*this.cols+t]=n}}class S{constructor(e){let t=0,n=0;for(let i=0,r=e.length;i<r;i++){let[r,s,o]=e[i];s>t&&(t=s),r>n&&(n=r),o>n&&(n=o)}t++,n++;let i=new C(n,t,0);for(let t=0,n=e.length;t<n;t++){let[n,r,s]=e[t];i.set(n,r,s)}this._states=i,this._maxCharCode=t}nextState(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)}}let v=null;let k=null;class y{static _createLink(e,t,n,i,r){let s=r-1;do{const n=t.charCodeAt(s);if(2!==e.get(n))break;s--}while(s>i);if(i>0){const e=t.charCodeAt(i-1),n=t.charCodeAt(s);(40===e&&41===n||91===e&&93===n||123===e&&125===n)&&s--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:s+2},url:t.substring(i,s+1)}}static computeLinks(e,t=function(){return null===v&&(v=new S([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),v}()){const n=function(){if(null===k){k=new p.N(0);const e=" \t<>'\"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…";for(let t=0;t<e.length;t++)k.set(e.charCodeAt(t),1);const t=".,;";for(let e=0;e<t.length;e++)k.set(t.charCodeAt(e),2)}return k}();let i=[];for(let r=1,s=e.getLineCount();r<=s;r++){const s=e.getLineContent(r),o=s.length;let a=0,l=0,c=0,u=1,d=!1,h=!1,g=!1,f=!1;for(;a<o;){let e=!1;const o=s.charCodeAt(a);if(13===u){let t;switch(o){case 40:d=!0,t=0;break;case 41:t=d?0:1;break;case 91:g=!0,h=!0,t=0;break;case 93:g=!1,t=h?0:1;break;case 123:f=!0,t=0;break;case 125:t=f?0:1;break;case 39:t=34===c||96===c?0:1;break;case 34:t=39===c||96===c?0:1;break;case 96:t=39===c||34===c?0:1;break;case 42:t=42===c?1:0;break;case 124:t=124===c?1:0;break;case 32:t=g?0:1;break;default:t=n.get(o)}1===t&&(i.push(y._createLink(n,s,r,l,a)),e=!0)}else if(12===u){let t;91===o?(h=!0,t=0):t=n.get(o),1===t?e=!0:u=13}else u=t.nextState(u,o),0===u&&(e=!0);e&&(u=1,d=!1,h=!1,f=!1,l=a+1,c=o),a++}13===u&&i.push(y._createLink(n,s,r,l,o))}return i}}class w{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(e,t,n,i,r){if(e&&t){let n=this.doNavigateValueSet(t,r);if(n)return{range:e,value:n}}if(n&&i){let e=this.doNavigateValueSet(i,r);if(e)return{range:n,value:e}}return null}doNavigateValueSet(e,t){let n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)}numberReplace(e,t){let n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),r=parseFloat(e);return isNaN(i)||isNaN(r)||i!==r?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null}textReplace(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)}valueSetsReplace(e,t,n){let i=null;for(let r=0,s=e.length;null===i&&r<s;r++)i=this.valueSetReplace(e[r],t,n);return i}valueSetReplace(e,t,n){let i=e.indexOf(t);return i>=0?(i+=n?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null}}w.INSTANCE=new w;var L=n(61762),b=n(98401),M=n(84013),I=n(49679),R=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};class T extends _.v{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(e){return this._lines[e-1]}getWordAtPosition(e,t){let n=(0,m.t2)(e.column,(0,m.eq)(t),this._lines[e.lineNumber-1],0);return n?new a.e(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null}words(e){const t=this._lines,n=this._wordenize.bind(this);let i=0,r="",s=0,o=[];return{*[Symbol.iterator](){for(;;)if(s<o.length){const e=r.substring(o[s].start,o[s].end);s+=1,yield e}else{if(!(i<t.length))break;r=t[i],o=n(r,e),s=0,i+=1}}}}getLineWords(e,t){let n=this._lines[e-1],i=this._wordenize(n,t),r=[];for(const e of i)r.push({word:n.substring(e.start,e.end),startColumn:e.start+1,endColumn:e.end+1});return r}_wordenize(e,t){const n=[];let i;for(t.lastIndex=0;(i=t.exec(e))&&0!==i[0].length;)n.push({start:i.index,end:i.index+i[0].length});return n}getValueInRange(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);let t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,r=[];r.push(this._lines[n].substring(e.startColumn-1));for(let e=n+1;e<i;e++)r.push(this._lines[e]);return r.push(this._lines[i].substring(0,e.endColumn-1)),r.join(t)}offsetAt(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getPrefixSum(e.lineNumber-2)+(e.column-1)}positionAt(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();let t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}}_validateRange(e){const t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e}_validatePosition(e){if(!g.L.isIPosition(e))throw new Error("bad position");let{lineNumber:t,column:n}=e,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{let e=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>e&&(n=e,i=!0)}return i?{lineNumber:t,column:n}:e}}class x{constructor(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(e){return this._models[e]}_getModels(){let e=[];return Object.keys(this._models).forEach(t=>e.push(this._models[t])),e}acceptNewModel(e){this._models[e.url]=new T(h.o.parse(e.url),e.lines,e.EOL,e.versionId)}acceptModelChanged(e,t){if(!this._models[e])return;this._models[e].onEvents(t)}acceptRemovedModel(e){this._models[e]&&delete this._models[e]}computeUnicodeHighlights(e,t,n){return R(this,void 0,void 0,(function*(){const i=this._getModel(e);return i?I.a.computeUnicodeHighlights(i,t,n):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}))}computeDiff(e,t,n,i){return R(this,void 0,void 0,(function*(){const r=this._getModel(e),s=this._getModel(t);if(!r||!s)return null;const o=r.getLinesContent(),a=s.getLinesContent(),l=new f.g(o,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0,maxComputationTime:i}).computeDiff(),c=!(l.changes.length>0)&&this._modelsAreIdentical(r,s);return{quitEarly:l.quitEarly,identical:c,changes:l.changes}}))}_modelsAreIdentical(e,t){const n=e.getLineCount();if(n!==t.getLineCount())return!1;for(let i=1;i<=n;i++){if(e.getLineContent(i)!==t.getLineContent(i))return!1}return!0}computeMoreMinimalEdits(e,t){return R(this,void 0,void 0,(function*(){const n=this._getModel(e);if(!n)return t;const i=[];let r=void 0;t=t.slice(0).sort((e,t)=>{if(e.range&&t.range)return a.e.compareRangesUsingStarts(e.range,t.range);return(e.range?0:1)-(t.range?0:1)});for(let{range:e,text:s,eol:o}of t){if("number"==typeof o&&(r=o),a.e.isEmpty(e)&&!s)continue;const t=n.getValueInRange(e);if(s=s.replace(/\r\n|\n|\r/g,n.eol),t===s)continue;if(Math.max(s.length,t.length)>x._diffLimit){i.push({range:e,text:s});continue}const l=(0,u.a$)(t,s,!1),c=n.offsetAt(a.e.lift(e).getStartPosition());for(const e of l){const t=n.positionAt(c+e.originalStart),r=n.positionAt(c+e.originalStart+e.originalLength),o={text:s.substr(e.modifiedStart,e.modifiedLength),range:{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:r.lineNumber,endColumn:r.column}};n.getValueInRange(o.range)!==o.text&&i.push(o)}}return"number"==typeof r&&i.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),i}))}computeLinks(e){return R(this,void 0,void 0,(function*(){let t=this._getModel(e);return t?function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?y.computeLinks(e):[]}(t):null}))}textualSuggest(e,t,n,i){return R(this,void 0,void 0,(function*(){const r=new M.G(!0),s=new RegExp(n,i),o=new Set;e:for(let n of e){const e=this._getModel(n);if(e)for(let n of e.words(s))if(n!==t&&isNaN(Number(n))&&(o.add(n),o.size>x._suggestionsLimit))break e}return{words:Array.from(o),duration:r.elapsed()}}))}computeWordRanges(e,t,n,i){return R(this,void 0,void 0,(function*(){let r=this._getModel(e);if(!r)return Object.create(null);const s=new RegExp(n,i),o=Object.create(null);for(let e=t.startLineNumber;e<t.endLineNumber;e++){let t=r.getLineWords(e,s);for(const n of t){if(!isNaN(Number(n.word)))continue;let t=o[n.word];t||(t=[],o[n.word]=t),t.push({startLineNumber:e,startColumn:n.startColumn,endLineNumber:e,endColumn:n.endColumn})}}return o}))}navigateValueSet(e,t,n,i,r){return R(this,void 0,void 0,(function*(){let s=this._getModel(e);if(!s)return null;let o=new RegExp(i,r);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});let a=s.getValueInRange(t),l=s.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},o);if(!l)return null;let c=s.getValueInRange(l);return w.INSTANCE.navigateValueSet(t,a,l,c,n)}))}loadForeignModule(e,t,n){let i={host:b.IU(n,(e,t)=>this._host.fhr(e,t)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(i,t),Promise.resolve(b.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return Promise.reject(e)}}}x._diffLimit=1e5,x._suggestionsLimit=1e4,"function"==typeof importScripts&&(d.li.monaco=(0,L.O)());var D=n(51200),O=n(33187),E=n(97295),P=n(9488),A=n(43557),N=n(17301),B=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},F=function(e,t){return function(n,i){t(n,i,e)}},z=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function W(e,t){let n=e.getModel(t);return!!n&&!n.isTooLargeForSyncing()}let U=class extends r.JT{constructor(e,t,n){super(),this._modelService=e,this._workerManager=this._register(new j(this._modelService)),this._logService=n,this._register(l.pM.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(e,t)=>W(this._modelService,e.uri)?this._workerManager.withWorker().then(t=>t.computeLinks(e.uri)).then(e=>e&&{links:e}):Promise.resolve({links:[]})})),this._register(l.KZ.register("*",new V(this._workerManager,t,this._modelService)))}dispose(){super.dispose()}canComputeUnicodeHighlights(e){return W(this._modelService,e)}computedUnicodeHighlights(e,t,n){return this._workerManager.withWorker().then(i=>i.computedUnicodeHighlights(e,t,n))}computeDiff(e,t,n,i){return this._workerManager.withWorker().then(r=>r.computeDiff(e,t,n,i))}computeMoreMinimalEdits(e,t){if((0,P.Of)(t)){if(!W(this._modelService,e))return Promise.resolve(t);const n=M.G.create(!0),r=this._workerManager.withWorker().then(n=>n.computeMoreMinimalEdits(e,t));return r.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),n.elapsed())),Promise.race([r,(0,i.Vs)(1e3).then(()=>t)])}return Promise.resolve(void 0)}canNavigateValueSet(e){return W(this._modelService,e)}navigateValueSet(e,t,n){return this._workerManager.withWorker().then(i=>i.navigateValueSet(e,t,n))}canComputeWordRanges(e){return W(this._modelService,e)}computeWordRanges(e,t){return this._workerManager.withWorker().then(n=>n.computeWordRanges(e,t))}};U=B([F(0,D.q),F(1,O.V),F(2,A.VZ)],U);class V{constructor(e,t,n){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=n}provideCompletionItems(e,t){return z(this,void 0,void 0,(function*(){const n=this._configurationService.getValue(e.uri,t,"editor");if(!n.wordBasedSuggestions)return;const i=[];if("currentDocument"===n.wordBasedSuggestionsMode)W(this._modelService,e.uri)&&i.push(e.uri);else for(const t of this._modelService.getModels())W(this._modelService,t.uri)&&(t===e?i.unshift(t.uri):"allDocuments"!==n.wordBasedSuggestionsMode&&t.getLanguageId()!==e.getLanguageId()||i.push(t.uri));if(0===i.length)return;const r=c.zu.getWordDefinition(e.getLanguageId()),s=e.getWordAtPosition(t),o=s?new a.e(t.lineNumber,s.startColumn,t.lineNumber,s.endColumn):a.e.fromPositions(t),l=o.setEndPosition(t.lineNumber,t.column),u=yield this._workerManager.withWorker(),d=yield u.textualSuggest(i,null==s?void 0:s.word,r);return d?{duration:d.duration,suggestions:d.words.map(e=>({kind:18,label:e,insertText:e,range:{insert:l,replace:o}}))}:void 0}))}}class j extends r.JT{constructor(e){super(),this._modelService=e,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new i.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(e=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new G(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)}}class H extends r.JT{constructor(e,t,n){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=e,this._modelService=t,!n){let e=new i.zh;e.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(e)}}dispose(){for(let e in this._syncedModels)(0,r.B9)(this._syncedModels[e]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(e,t){for(const n of e){let e=n.toString();this._syncedModels[e]||this._beginModelSync(n,t),this._syncedModels[e]&&(this._syncedModelsLastUsedTime[e]=(new Date).getTime())}}_checkStopModelSync(){let e=(new Date).getTime(),t=[];for(let n in this._syncedModelsLastUsedTime){e-this._syncedModelsLastUsedTime[n]>6e4&&t.push(n)}for(const e of t)this._stopModelSync(e)}_beginModelSync(e,t){let n=this._modelService.getModel(e);if(!n)return;if(!t&&n.isTooLargeForSyncing())return;let i=e.toString();this._proxy.acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});const s=new r.SL;s.add(n.onDidChangeContent(e=>{this._proxy.acceptModelChanged(i.toString(),e)})),s.add(n.onWillDispose(()=>{this._stopModelSync(i)})),s.add((0,r.OF)(()=>{this._proxy.acceptRemovedModel(i)})),this._syncedModels[i]=s}_stopModelSync(e){let t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],(0,r.B9)(t)}}class ${constructor(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class q{constructor(e){this._workerClient=e}fhr(e,t){return this._workerClient.fhr(e,t)}}class G extends r.JT{constructor(e,t,n){super(),this._disposed=!1,this._modelService=e,this._keepIdleModels=t,this._workerFactory=new o.H(n),this._worker=null,this._modelManager=null}fhr(e,t){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new s.PB(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new q(this)))}catch(e){(0,s.HZ)(e),this._worker=new $(new x(new q(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,e=>((0,s.HZ)(e),this._worker=new $(new x(new q(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(e){return this._modelManager||(this._modelManager=this._register(new H(e,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(e,t=!1){return z(this,void 0,void 0,(function*(){return this._disposed?Promise.reject((0,N.F0)()):this._getProxy().then(n=>(this._getOrCreateModelManager(n).ensureSyncedResources(e,t),n))}))}computedUnicodeHighlights(e,t,n){return this._withSyncedResources([e]).then(i=>i.computeUnicodeHighlights(e.toString(),t,n))}computeDiff(e,t,n,i){return this._withSyncedResources([e,t],!0).then(r=>r.computeDiff(e.toString(),t.toString(),n,i))}computeMoreMinimalEdits(e,t){return this._withSyncedResources([e]).then(n=>n.computeMoreMinimalEdits(e.toString(),t))}computeLinks(e){return this._withSyncedResources([e]).then(t=>t.computeLinks(e.toString()))}textualSuggest(e,t,n){return z(this,void 0,void 0,(function*(){const i=yield this._withSyncedResources(e),r=n.source,s=(0,E.mr)(n);return i.textualSuggest(e.map(e=>e.toString()),t,r,s)}))}computeWordRanges(e,t){return this._withSyncedResources([e]).then(n=>{let i=this._modelService.getModel(e);if(!i)return Promise.resolve(null);let r=c.zu.getWordDefinition(i.getLanguageId()),s=r.source,o=(0,E.mr)(r);return n.computeWordRanges(e.toString(),t,s,o)})}navigateValueSet(e,t,n){return this._withSyncedResources([e]).then(i=>{let r=this._modelService.getModel(e);if(!r)return null;let s=c.zu.getWordDefinition(r.getLanguageId()),o=s.source,a=(0,E.mr)(s);return i.navigateValueSet(e.toString(),t,n,o,a)})}dispose(){super.dispose(),this._disposed=!0}}},22016:(e,t,n)=>{n.d(t,{r:()=>a});var i=n(66663),r=n(95935),s=n(71144),o=n(75761);function a(e,t,n,a){const c=a===o.R.ROOT_FOLDER?["rootfolder-icon"]:a===o.R.FOLDER?["folder-icon"]:["file-icon"];if(n){let u;if(n.scheme===i.lg.data){u=r.Vb.parseMetaData(n).get(r.Vb.META_DATA_LABEL)}else u=l((0,r.Hx)(n).toLowerCase());if(a===o.R.FOLDER)c.push(u+"-name-folder-icon");else{if(u){if(c.push(u+"-name-file-icon"),u.length<=255){const e=u.split(".");for(let t=1;t<e.length;t++)c.push(e.slice(t).join(".")+"-ext-file-icon")}c.push("ext-file-icon")}const o=function(e,t,n){if(!n)return null;let o=null;if(n.scheme===i.lg.data){const e=r.Vb.parseMetaData(n).get(r.Vb.META_DATA_MIME);e&&(o=t.getModeId(e))}else{const t=e.getModel(n);t&&(o=t.getLanguageId())}if(o&&o!==s.XT)return o;return t.getModeIdByFilepathOrFirstLine(n)}(e,t,n);o&&c.push(l(o)+"-lang-file-icon")}}return c}function l(e){return e.replace(/[\11\12\14\15\40]/g,"/")}},41378:(e,t,n)=>{n.d(t,{x:()=>p});var i=n(98674),r=n(9917),s=n(84973),o=n(97781),a=n(27869),l=n(51200),c=n(24314),u=n(66663),d=n(4669),h=n(73910),g=n(43702),f=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},_=function(e,t){return function(n,i){t(n,i,e)}};class m extends r.JT{constructor(e){super(),this.model=e,this._markersData=new Map,this._register((0,r.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(e,t){const n=[...this._markersData.keys()];this._markersData.clear();const i=this.model.deltaDecorations(n,t);for(let t=0;t<i.length;t++)this._markersData.set(i[t],e[t]);return 0!==n.length||0!==i.length}getMarker(e){return this._markersData.get(e.id)}}let p=class extends r.JT{constructor(e,t){super(),this._markerService=t,this._onDidChangeMarker=this._register(new d.Q5),this._markerDecorations=new g.Y9,e.getModels().forEach(e=>this._onModelAdded(e)),this._register(e.onModelAdded(this._onModelAdded,this)),this._register(e.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(e=>e.dispose()),this._markerDecorations.clear()}getMarker(e,t){const n=this._markerDecorations.get(e);return n&&n.getMarker(t)||null}_handleMarkerChange(e){e.forEach(e=>{const t=this._markerDecorations.get(e);t&&this._updateDecorations(t)})}_onModelAdded(e){const t=new m(e);this._markerDecorations.set(e.uri,t),this._updateDecorations(t)}_onModelRemoved(e){const t=this._markerDecorations.get(e.uri);t&&(t.dispose(),this._markerDecorations.delete(e.uri)),e.uri.scheme!==u.lg.inMemory&&e.uri.scheme!==u.lg.internal&&e.uri.scheme!==u.lg.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map(e=>e.owner).forEach(t=>this._markerService.remove(t,[e.uri]))}_updateDecorations(e){const t=this._markerService.read({resource:e.model.uri,take:500});let n=t.map(t=>({range:this._createDecorationRange(e.model,t),options:this._createDecorationOption(t)}));e.update(t,n)&&this._onDidChangeMarker.fire(e.model)}_createDecorationRange(e,t){let n=c.e.lift(t);return t.severity!==i.ZL.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),e.validateRange(n)}_createDecorationOption(e){let t,n,r,l=void 0,c=void 0;switch(e.severity){case i.ZL.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case i.ZL.Warning:t="squiggly-warning",l=(0,o.EN)(a.Re),n=20,r={color:(0,o.EN)(h.Ivo),position:s.F5.Inline};break;case i.ZL.Info:t="squiggly-info",l=(0,o.EN)(a.eS),n=10;break;case i.ZL.Error:default:t="squiggly-error",l=(0,o.EN)(a.lK),n=30,r={color:(0,o.EN)(h.Gj_),position:s.F5.Inline}}return e.tags&&(-1!==e.tags.indexOf(1)&&(c="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(c="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:l,position:s.sh.Right},minimap:r,zIndex:n,inlineClassName:c}}_hasMarkerTag(e,t){return!!e.tags&&e.tags.indexOf(t)>=0}};p=f([_(0,l.q),_(1,i.lT)],p)},26479:(e,t,n)=>{n.d(t,{i:()=>i});const i=(0,n(72065).yh)("markerDecorationsService")},71531:(e,t,n)=>{n.d(t,{h:()=>i});const i=(0,n(72065).yh)("modeService")},20956:(e,t,n)=>{n.d(t,{d:()=>p});var i=n(4669),r=n(9917),s=n(28111),o=n(17301),a=n(81170),l=n(97295),c=n(71144),u=n(23193),d=n(89872);const h=Object.prototype.hasOwnProperty;class g{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(s.TG,0),this._register(c.XT,1),this._nextLanguageId=2}_register(e,t){this._languageIdToLanguage[t]=e,this._languageToLanguageId.set(e,t)}register(e){if(this._languageToLanguageId.has(e))return;const t=this._nextLanguageId++;this._register(e,t)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||s.TG}}class f extends r.JT{constructor(e=!0,t=!1){super(),this._onDidChange=this._register(new i.Q5),this.onDidChange=this._onDidChange.event,f.instanceCount++,this._warnOnOverwrite=t,this.languageIdCodec=new g,this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(c.dQ.onDidChangeLanguages(e=>{this._initializeFromRegistry()})))}dispose(){f.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},a.bS();const e=c.dQ.getLanguages();this._registerLanguages(e)}_registerLanguages(e){for(const t of e)this._registerLanguage(t);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(e=>{let t=this._languages[e];t.name&&(this._nameMap[t.name]=t.identifier),t.aliases.forEach(e=>{this._lowercaseNameMap[e.toLowerCase()]=t.identifier}),t.mimetypes.forEach(e=>{this._mimeTypesMap[e]=t.identifier})}),d.B.as(u.IP.Configuration).registerOverrideIdentifiers(c.dQ.getLanguages().map(e=>e.id)),this._onDidChange.fire()}_registerLanguage(e){const t=e.id;let n;h.call(this._languages,t)?n=this._languages[t]:(this.languageIdCodec.register(t),n={identifier:t,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[t]=n),this._mergeLanguage(n,e)}_mergeLanguage(e,t){const n=t.id;let i=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&(e.mimetypes.push(...t.mimetypes),i=t.mimetypes[0]),i||(i="text/x-"+n,e.mimetypes.push(i)),Array.isArray(t.extensions)){t.configuration?e.extensions=t.extensions.concat(e.extensions):e.extensions=e.extensions.concat(t.extensions);for(let e of t.extensions)a.sA({id:n,mime:i,extension:e},this._warnOnOverwrite)}if(Array.isArray(t.filenames))for(let r of t.filenames)a.sA({id:n,mime:i,filename:r},this._warnOnOverwrite),e.filenames.push(r);if(Array.isArray(t.filenamePatterns))for(let e of t.filenamePatterns)a.sA({id:n,mime:i,filepattern:e},this._warnOnOverwrite);if("string"==typeof t.firstLine&&t.firstLine.length>0){let e=t.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{let t=new RegExp(e);l.IO(t)||a.sA({id:n,mime:i,firstline:t},this._warnOnOverwrite)}catch(e){(0,o.dL)(e)}}e.aliases.push(n);let r=null;if(void 0!==t.aliases&&Array.isArray(t.aliases)&&(r=0===t.aliases.length?[null]:t.aliases),null!==r)for(const t of r)t&&0!==t.length&&e.aliases.push(t);let s=null!==r&&r.length>0;if(s&&null===r[0]);else{let t=(s?r[0]:null)||n;!s&&e.name||(e.name=t)}t.configuration&&e.configurationFiles.push(t.configuration)}isRegisteredMode(e){return!!h.call(this._mimeTypesMap,e)||h.call(this._languages,e)}getModeIdForLanguageNameLowercase(e){return h.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e]:null}extractModeIds(e){return e?e.split(",").map(e=>e.trim()).map(e=>h.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:e).filter(e=>h.call(this._languages,e)):[]}validateLanguageId(e){return e&&e!==s.TG?h.call(this._languages,e)?e:null:s.TG}getModeIdsFromFilepathOrFirstLine(e,t){if(!e&&!t)return[];let n=a.G8(e,t);return this.extractModeIds(n.join(","))}}f.instanceCount=0;var _=n(9488);class m{constructor(e,t){let n;this._selector=t,this.languageId=this._selector(),this._onDidChange=new i.Q5({onFirstListenerAdd:()=>{n=e(()=>this._evaluate())},onLastListenerRemove:()=>{n.dispose()}}),this.onDidChange=this._onDidChange.event}_evaluate(){const e=this._selector();e!==this.languageId&&(this.languageId=e,this._onDidChange.fire(this.languageId))}}class p extends r.JT{constructor(e=!1){super(),this._onDidEncounterLanguage=this._register(new i.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onLanguagesMaybeChanged=this._register(new i.Q5({leakWarningThreshold:200})),this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,p.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new f(!0,e)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onLanguagesMaybeChanged.fire()))}dispose(){p.instanceCount--,super.dispose()}isRegisteredMode(e){return this._registry.isRegisteredMode(e)}getModeIdForLanguageName(e){return this._registry.getModeIdForLanguageNameLowercase(e)}getModeIdByFilepathOrFirstLine(e,t){const n=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return(0,_.Xh)(n,null)}getModeId(e){const t=this._registry.extractModeIds(e);return(0,_.Xh)(t,null)}validateLanguageId(e){return this._registry.validateLanguageId(e)}create(e){return new m(this.onLanguagesMaybeChanged,()=>{const t=this.getModeId(e);return this._createModeAndGetLanguageIdentifier(t)})}createByFilepathOrFirstLine(e,t){return new m(this.onLanguagesMaybeChanged,()=>{const n=this.getModeIdByFilepathOrFirstLine(e,t);return this._createModeAndGetLanguageIdentifier(n)})}_createModeAndGetLanguageIdentifier(e){const t=this.validateLanguageId(e||"plaintext")||s.TG;return this._getOrCreateMode(t),t}triggerMode(e){const t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")}_getOrCreateMode(e){if(!this._encounteredLanguages.has(e)){this._encounteredLanguages.add(e);const t=this.validateLanguageId(e)||s.TG;this._onDidEncounterLanguage.fire(t)}}}p.instanceCount=0},51200:(e,t,n)=>{n.d(t,{p:()=>r,q:()=>i});const i=(0,n(72065).yh)("modelService");function r(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}},76939:(e,t,n)=>{n.d(t,{BR:()=>Y});var i=n(4669),r=n(9917),s=n(1432),o=n(17301),a=n(64141),l=n(75425),c=n(44101),u=n(71144),d=n(71531),h=n(33187),g=n(33108),f=n(15393),_=n(71050),m=n(97781),p=n(43557),C=n(64862),S=n(89954),v=n(95215),k=n(66663),y=n(58409),w=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},L=function(e,t){return function(n,i){t(n,i,e)}};let b=class{constructor(e,t,n,i){this._legend=e,this._themeService=t,this._modeService=n,this._logService=i,this._hashTable=new I,this._hasWarnedOverlappingTokens=!1}getMetadata(e,t,n){const i=this._modeService.languageIdCodec.encodeLanguageId(n),r=this._hashTable.get(e,t,i);let s;if(r)s=r.metadata,this._logService.getLevel()===p.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${e} / ${t}: foreground ${c.NX.getForeground(s)}, fontStyle ${c.NX.getFontStyle(s).toString(2)}`);else{let r=this._legend.tokenTypes[e];const o=[];if(r){let e=t;for(let t=0;e>0&&t<this._legend.tokenModifiers.length;t++)1&e&&o.push(this._legend.tokenModifiers[t]),e>>=1;e>0&&this._logService.getLevel()===p.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${t.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),o.push("not-in-legend"));const i=this._themeService.getColorTheme().getTokenStyleMetadata(r,o,n);if(void 0===i)s=2147483647;else{if(s=0,void 0!==i.italic){s|=1|(i.italic?1:0)<<11}if(void 0!==i.bold){s|=2|(i.bold?2:0)<<11}if(void 0!==i.underline){s|=4|(i.underline?4:0)<<11}if(i.foreground){s|=8|i.foreground<<14}0===s&&(s=2147483647)}}else this._logService.getLevel()===p.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${e} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),s=2147483647,r="not-in-legend";this._hashTable.add(e,t,i,s),this._logService.getLevel()===p.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${e} (${r}) / ${t} (${o.join(" ")}): foreground ${c.NX.getForeground(s)}, fontStyle ${c.NX.getFontStyle(s).toString(2)}`)}return s}warnOverlappingSemanticTokens(e,t){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0)}};b=w([L(1,m.XE),L(2,d.h),L(3,p.VZ)],b);class M{constructor(e,t,n,i){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.languageId=n,this.metadata=i,this.next=null}}class I{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=I._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<I._SIZES.length?2/3*this._currentLength:0),this._elements=[],I._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(e,t){for(let n=0;n<t;n++)e[n]=null}_hash2(e,t){return(e<<5)-e+t|0}_hashFunc(e,t,n){return this._hash2(this._hash2(e,t),n)%this._currentLength}get(e,t,n){const i=this._hashFunc(e,t,n);let r=this._elements[i];for(;r;){if(r.tokenTypeIndex===e&&r.tokenModifierSet===t&&r.languageId===n)return r;r=r.next}return null}add(e,t,n,i){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const e=this._elements;this._currentLengthIndex++,this._currentLength=I._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<I._SIZES.length?2/3*this._currentLength:0),this._elements=[],I._nullOutEntries(this._elements,this._currentLength);for(const t of e){let e=t;for(;e;){const t=e.next;e.next=null,this._add(e),e=t}}}this._add(new M(e,t,n,i))}_add(e){const t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet,e.languageId);e.next=this._elements[t],this._elements[t]=e}}I._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];var R=n(70666),T=n(51200),x=n(94565),D=n(98401),O=n(53060);function E(e){const t=new Uint32Array(function(e){let t=0;if(t+=2,"full"===e.type)t+=1+e.data.length;else{t+=1,t+=3*e.deltas.length;for(const n of e.deltas)n.data&&(t+=n.data.length)}return t}(e));let n=0;if(t[n++]=e.id,"full"===e.type)t[n++]=1,t[n++]=e.data.length,t.set(e.data,n),n+=e.data.length;else{t[n++]=2,t[n++]=e.deltas.length;for(const i of e.deltas)t[n++]=i.start,t[n++]=i.deleteCount,i.data?(t[n++]=i.data.length,t.set(i.data,n),n+=i.data.length):t[n++]=0}return function(e){const t=new Uint8Array(e.buffer,e.byteOffset,4*e.length);return s.r()||function(e){for(let t=0,n=e.length;t<n;t+=4){const n=e[t+0],i=e[t+1],r=e[t+2],s=e[t+3];e[t+0]=s,e[t+1]=r,e[t+2]=i,e[t+3]=n}}(t),O.KN.wrap(t)}(t)}var P=n(24314),A=function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))};function N(e){return e&&!!e.data}function B(e){return e&&Array.isArray(e.edits)}class F{constructor(e,t,n){this.provider=e,this.tokens=t,this.error=n}}function z(e){return c.wT.has(e)}function W(e,t,n,i){return A(this,void 0,void 0,(function*(){const r=function(e){const t=c.wT.orderedGroups(e);return t.length>0?t[0]:[]}(e),s=yield Promise.all(r.map(r=>A(this,void 0,void 0,(function*(){let s,o=null;try{s=yield r.provideDocumentSemanticTokens(e,r===t?n:null,i)}catch(e){o=e,s=null}return s&&(N(s)||B(s))||(s=null),new F(r,s,o)}))));for(const e of s){if(e.error)throw e.error;if(e.tokens)return e}return s.length>0?s[0]:null}))}class U{constructor(e,t){this.provider=e,this.tokens=t}}function V(e){const t=c.K7.orderedGroups(e);return t.length>0?t[0]:[]}function j(e,t,n){return A(this,void 0,void 0,(function*(){const i=V(e),r=yield Promise.all(i.map(i=>A(this,void 0,void 0,(function*(){let r;try{r=yield i.provideDocumentRangeSemanticTokens(e,t,n)}catch(e){(0,o.Cp)(e),r=null}return r&&N(r)||(r=null),new U(i,r)}))));for(const e of r)if(e.tokens)return e;return r.length>0?r[0]:null}))}x.P0.registerCommand("_provideDocumentSemanticTokensLegend",(e,...t)=>A(void 0,void 0,void 0,(function*(){const[n]=t;(0,D.p_)(n instanceof R.o);const i=e.get(T.q).getModel(n);if(!i)return;const r=function(e){const t=c.wT.orderedGroups(e);return t.length>0?t[0]:null}(i);return r?r[0].getLegend():e.get(x.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",n)}))),x.P0.registerCommand("_provideDocumentSemanticTokens",(e,...t)=>A(void 0,void 0,void 0,(function*(){const[n]=t;(0,D.p_)(n instanceof R.o);const i=e.get(T.q).getModel(n);if(!i)return;if(!z(i))return e.get(x.Hy).executeCommand("_provideDocumentRangeSemanticTokens",n,i.getFullModelRange());const r=yield W(i,null,null,_.T.None);if(!r)return;const{provider:s,tokens:o}=r;if(!o||!N(o))return;const a=E({id:0,type:"full",data:o.data});return o.resultId&&s.releaseDocumentSemanticTokens(o.resultId),a}))),x.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(e,...t)=>A(void 0,void 0,void 0,(function*(){const[n,i]=t;(0,D.p_)(n instanceof R.o);const r=e.get(T.q).getModel(n);if(!r)return;const s=V(r);if(0===s.length)return;if(1===s.length)return s[0].getLegend();if(!i||!P.e.isIRange(i))return s[0].getLegend();const o=yield j(r,P.e.lift(i),_.T.None);return o?o.provider.getLegend():void 0}))),x.P0.registerCommand("_provideDocumentRangeSemanticTokens",(e,...t)=>A(void 0,void 0,void 0,(function*(){const[n,i]=t;(0,D.p_)(n instanceof R.o),(0,D.p_)(P.e.isIRange(i));const r=e.get(T.q).getModel(n);if(!r)return;const s=yield j(r,P.e.lift(i),_.T.None);return s&&s.tokens?E({id:0,type:"full",data:s.tokens.data}):void 0})));var H=n(36248),$=n(83831),q=function(e,t,n,i){var r,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(s<3?r(o):s>3?r(t,n,o):r(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},G=function(e,t){return function(n,i){t(n,i,e)}};function Z(e){return e.toString()}function Q(e){const t=new S.yP,n=e.createSnapshot();let i;for(;i=n.read();)t.update(i);return t.digest()}class J{constructor(e,t,n){this._modelEventListeners=new r.SL,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(t=>n(e,t)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(e){this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(e.languageId)),this.model.setMode(e.languageId)}}const K=s.IJ||s.dz?1:2;class X{constructor(e,t,n,i,r,s,o,a){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=n,this.sharesUndoRedoStack=i,this.heapSize=r,this.sha1=s,this.versionId=o,this.alternativeVersionId=a}}let Y=class e extends r.JT{constructor(e,t,n,r,s,o,a){super(),this._configurationService=e,this._resourcePropertiesService=t,this._themeService=n,this._logService=r,this._undoRedoService=s,this._modeService=o,this._languageConfigurationService=a,this._onModelAdded=this._register(new i.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new i.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new i.Q5),this.onModelModeChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new ne(this._themeService,this._modeService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new te(this,this._themeService,this._configurationService,this._semanticStyling))}static _readModelOptions(e,t){var n;let i=a.DB.tabSize;if(e.editor&&void 0!==e.editor.tabSize){const t=parseInt(e.editor.tabSize,10);isNaN(t)||(i=t),i<1&&(i=1)}let r=i;if(e.editor&&void 0!==e.editor.indentSize&&"tabSize"!==e.editor.indentSize){const t=parseInt(e.editor.indentSize,10);isNaN(t)||(r=t),r<1&&(r=1)}let s=a.DB.insertSpaces;e.editor&&void 0!==e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));let o=K;const l=e.eol;"\r\n"===l?o=2:"\n"===l&&(o=1);let c=a.DB.trimAutoWhitespace;e.editor&&void 0!==e.editor.trimAutoWhitespace&&(c="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));let u=a.DB.detectIndentation;e.editor&&void 0!==e.editor.detectIndentation&&(u="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));let d=a.DB.largeFileOptimizations;e.editor&&void 0!==e.editor.largeFileOptimizations&&(d="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations));let h=a.DB.bracketPairColorizationOptions;return(null===(n=e.editor)||void 0===n?void 0:n.bracketPairColorization)&&"object"==typeof e.editor.bracketPairColorization&&(h={enabled:!!e.editor.bracketPairColorization.enabled}),{isForSimpleWidget:t,tabSize:i,indentSize:r,insertSpaces:s,detectIndentation:u,defaultEOL:o,trimAutoWhitespace:c,largeFileOptimizations:d,bracketPairColorizationOptions:h}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const n=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return n&&"string"==typeof n&&"auto"!==n?n:3===s.OS||2===s.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof e||e}getCreationOptions(t,n,i){let r=this._modelCreationOptionsByLanguageAndResource[t+n];if(!r){const s=this._configurationService.getValue("editor",{overrideIdentifier:t,resource:n}),o=this._getEOL(n,t);r=e._readModelOptions({editor:s,eol:o},i),this._modelCreationOptionsByLanguageAndResource[t+n]=r}return r}_updateModelOptions(){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const n=Object.keys(this._models);for(let i=0,r=n.length;i<r;i++){const r=n[i],s=this._models[r],o=s.model.getLanguageId(),a=s.model.uri,l=t[o+a],c=this.getCreationOptions(o,a,s.model.isForSimpleWidget);e._setModelOptionsForModel(s.model,c,l)}}static _setModelOptionsForModel(e,t,n){n&&n.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace&&(0,H.fS)(n.bracketPairColorizationOptions,t.bracketPairColorizationOptions)||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(Z(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(Z(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(Z(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(e=>{e.sharesUndoRedoStack||t.push(e)}),t.sort((e,t)=>e.time-t.time);t.length>0&&this._disposedModelsHeapSize>e;){const e=t.shift();this._removeDisposedModel(e.uri),null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}}}_createModelData(e,t,n,i){const r=this.getCreationOptions(t,n,i),s=new l.yO(e,r,t,n,this._undoRedoService,this._modeService,this._languageConfigurationService);if(n&&this._disposedModels.has(Z(n))){const e=this._removeDisposedModel(n),t=this._undoRedoService.getElements(n),i=Q(s)===e.sha1;if(i||e.sharesUndoRedoStack){for(const e of t.past)(0,v.e9)(e)&&e.matchesResource(n)&&e.setModel(s);for(const e of t.future)(0,v.e9)(e)&&e.matchesResource(n)&&e.setModel(s);this._undoRedoService.setElementsValidFlag(n,!0,e=>(0,v.e9)(e)&&e.matchesResource(n)),i&&(s._overwriteVersionId(e.versionId),s._overwriteAlternativeVersionId(e.alternativeVersionId),s._overwriteInitialUndoRedoSnapshot(e.initialUndoRedoSnapshot))}else null!==e.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(e.initialUndoRedoSnapshot)}const o=Z(s.uri);if(this._models[o])throw new Error("ModelService: Cannot add model because it already exists!");const a=new J(s,e=>this._onWillDispose(e),(e,t)=>this._onDidChangeLanguage(e,t));return this._models[o]=a,a}createModel(e,t,n,i=!1){let r;return t?(r=this._createModelData(e,t.languageId,n,i),this.setMode(r.model,t)):r=this._createModelData(e,u.XT,n,i),this._onModelAdded.fire(r.model),r.model}setMode(e,t){if(!t)return;const n=this._models[Z(e.uri)];n&&n.setLanguage(t)}getModels(){const e=[],t=Object.keys(this._models);for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(this._models[i].model)}return e}getModel(e){const t=Z(e),n=this._models[t];return n?n.model:null}getSemanticTokensProviderStyling(e){return this._semanticStyling.get(e)}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===k.lg.file||e.scheme===k.lg.vscodeRemote||e.scheme===k.lg.userData||e.scheme===k.lg.vscodeNotebookCell||"fake-fs"===e.scheme}_onWillDispose(t){const n=Z(t.uri),i=this._models[n],r=this._undoRedoService.getUriComparisonKey(t.uri)!==t.uri.toString();let s=!1,o=0;if(r||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(t.uri)){const e=this._undoRedoService.getElements(t.uri);if(e.past.length>0||e.future.length>0){for(const n of e.past)(0,v.e9)(n)&&n.matchesResource(t.uri)&&(s=!0,o+=n.heapSize(t.uri),n.setModel(t.uri));for(const n of e.future)(0,v.e9)(n)&&n.matchesResource(t.uri)&&(s=!0,o+=n.heapSize(t.uri),n.setModel(t.uri))}}const a=e.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(s)if(!r&&o>a){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}else this._ensureDisposedModelsHeapSize(a-o),this._undoRedoService.setElementsValidFlag(t.uri,!1,e=>(0,v.e9)(e)&&e.matchesResource(t.uri)),this._insertDisposedModel(new X(t.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),r,o,Q(t),t.getVersionId(),t.getAlternativeVersionId()));else if(!r){const e=i.model.getInitialUndoRedoSnapshot();null!==e&&this._undoRedoService.restoreSnapshot(e)}delete this._models[n],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageId()+t.uri],this._onModelRemoved.fire(t)}_onDidChangeLanguage(t,n){const i=n.oldLanguage,r=t.getLanguageId(),s=this.getCreationOptions(i,t.uri,t.isForSimpleWidget),o=this.getCreationOptions(r,t.uri,t.isForSimpleWidget);e._setModelOptionsForModel(t,o,s),this._onModelModeChanged.fire({model:t,oldModeId:i})}};Y.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,Y=q([G(0,g.Ui),G(1,h.y),G(2,m.XE),G(3,p.VZ),G(4,C.tJ),G(5,d.h),G(6,$.c_)],Y);function ee(e,t,n){var i;const r=null===(i=n.getValue("editor.semanticHighlighting",{overrideIdentifier:e.getLanguageId(),resource:e.uri}))||void 0===i?void 0:i.enabled;return"boolean"==typeof r?r:t.getColorTheme().semanticHighlighting}class te extends r.JT{constructor(e,t,n,i){super(),this._watchers=Object.create(null),this._semanticStyling=i;const r=e=>{this._watchers[e.uri.toString()]=new re(e,t,this._semanticStyling)},s=(e,t)=>{t.dispose(),delete this._watchers[e.uri.toString()]},o=()=>{for(let i of e.getModels()){const e=this._watchers[i.uri.toString()];ee(i,t,n)?e||r(i):e&&s(i,e)}};this._register(e.onModelAdded(e=>{ee(e,t,n)&&r(e)})),this._register(e.onModelRemoved(e=>{const t=this._watchers[e.uri.toString()];t&&s(e,t)})),this._register(n.onDidChangeConfiguration(e=>{e.affectsConfiguration("editor.semanticHighlighting")&&o()})),this._register(t.onDidColorThemeChange(o))}}class ne extends r.JT{constructor(e,t,n){super(),this._themeService=e,this._modeService=t,this._logService=n,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(e){return this._caches.has(e)||this._caches.set(e,new b(e.getLegend(),this._themeService,this._modeService,this._logService)),this._caches.get(e)}}class ie{constructor(e,t,n){this.provider=e,this.resultId=t,this.data=n}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}class re extends r.JT{constructor(e,t,n){super(),this._isDisposed=!1,this._model=e,this._semanticStyling=n,this._fetchDocumentSemanticTokens=this._register(new f.pY(()=>this._fetchDocumentSemanticTokensNow(),re.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule()})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const i=()=>{(0,r.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const t of c.wT.all(e))"function"==typeof t.onDidChange&&this._documentProvidersChangeListeners.push(t.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};i(),this._register(c.wT.onDidChange(()=>{i(),this._fetchDocumentSemanticTokens.schedule()})),this._register(t.onDidColorThemeChange(e=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule()})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!z(this._model))return void(this._currentDocumentResponse&&this._model.setSemanticTokens(null,!1));const e=new _.A,t=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,n=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,i=W(this._model,t,n,e.token);this._currentDocumentRequestCancellationTokenSource=e;const r=[],s=this._model.onDidChangeContent(e=>{r.push(e)});i.then(e=>{if(this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),e){const{provider:t,tokens:n}=e,i=this._semanticStyling.get(t);this._setDocumentSemanticTokens(t,n||null,i,r)}else this._setDocumentSemanticTokens(null,null,null,r)},e=>{e&&(o.VV(e)||"string"==typeof e.message&&-1!==e.message.indexOf("busy"))||o.dL(e),this._currentDocumentRequestCancellationTokenSource=null,s.dispose(),r.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule())})}static _copy(e,t,n,i,r){for(let s=0;s<r;s++)n[i+s]=e[t+s]}_setDocumentSemanticTokens(e,t,n,i){const r=this._currentDocumentResponse,s=()=>{i.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule()};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)e&&t&&e.releaseDocumentSemanticTokens(t.resultId);else if(e&&n){if(!t)return this._model.setSemanticTokens(null,!0),void s();if(B(t)){if(!r)return void this._model.setSemanticTokens(null,!0);if(0===t.edits.length)t={resultId:t.resultId,data:r.data};else{let e=0;for(const n of t.edits)e+=(n.data?n.data.length:0)-n.deleteCount;const n=r.data,i=new Uint32Array(n.length+e);let s=n.length,o=i.length;for(let e=t.edits.length-1;e>=0;e--){const r=t.edits[e],a=s-(r.start+r.deleteCount);a>0&&(re._copy(n,s-a,i,o-a,a),o-=a),r.data&&(re._copy(r.data,0,i,o-r.data.length,r.data.length),o-=r.data.length),s=r.start}s>0&&re._copy(n,0,i,0,s),t={resultId:t.resultId,data:i}}}if(N(t)){this._currentDocumentResponse=new ie(e,t.resultId,t.data);const r=function(e,t,n){const i=e.data,r=e.data.length/5|0,s=Math.max(Math.ceil(r/1024),400),o=[];let a=0,l=1,c=0;for(;a<r;){const e=a;let u=Math.min(e+s,r);if(u<r){let t=u;for(;t-1>e&&0===i[5*t];)t--;if(t-1===e){let e=u;for(;e+1<r&&0===i[5*e];)e++;u=e}else u=t}let d=new Uint32Array(4*(u-e)),h=0,g=0,f=0,_=0,m=0;for(;a<u;){const e=5*a,r=i[e],s=i[e+1],o=l+r|0,u=0===r?c+s|0:s,p=i[e+2],C=i[e+3],S=i[e+4],v=t.getMetadata(C,S,n);2147483647!==v&&(0===g&&(g=o),f===o&&m>u&&(t.warnOverlappingSemanticTokens(o,u+1),_<u?d[h-4+2]=u:h-=4),d[h]=o-g,d[h+1]=u,d[h+2]=u+p,d[h+3]=v,h+=4,f=o,_=u,m=u+p),l=o,c=u,a++}h!==d.length&&(d=d.subarray(0,h));const p=new y.Wz(g,new y.OU(d));o.push(p)}return o}(t,n,this._model.getLanguageId());if(i.length>0)for(const e of i)for(const t of r)for(const n of e.changes)t.applyEdit(n.range,n.text);this._model.setSemanticTokens(r,!0)}else this._model.setSemanticTokens(null,!0);s()}else this._model.setSemanticTokens(null,!1)}}re.FETCH_DOCUMENT_SEMANTIC_TOKENS_DELAY=300},88216:(e,t,n)=>{n.d(t,{S:()=>i});const i=(0,n(72065).yh)("textModelService")},33187:(e,t,n)=>{n.d(t,{V:()=>r,y:()=>s});var i=n(72065);const r=(0,i.yh)("textResourceConfigurationService"),s=(0,i.yh)("textResourcePropertiesService")},43457:(e,t,n)=>{n.d(t,{j:()=>s});var i=n(48632),r=n(98401);function s(e,t){return new o(e,t)}class o extends i.Q8{constructor(e,t){super(e,t.keepIdleModels||!1,t.label),this._foreignModuleId=t.moduleId,this._foreignModuleCreateData=t.createData||null,this._foreignModuleHost=t.host||null,this._foreignProxy=null}fhr(e,t){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(e){return Promise.reject(e)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(e=>{const t=this._foreignModuleHost?r.$E(this._foreignModuleHost):[];return e.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,t).then(t=>{this._foreignModuleCreateData=null;const n=(t,n)=>e.fmr(t,n),i=(e,t)=>function(){const n=Array.prototype.slice.call(arguments,0);return t(e,n)};let r={};for(const e of t)r[e]=i(e,n);return r})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(e){return this._withSyncedResources(e).then(e=>this.getProxy())}}}}]);