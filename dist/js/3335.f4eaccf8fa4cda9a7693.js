(self.webpackChunkdt_em_front=self.webpackChunkdt_em_front||[]).push([[3335],{88791:(e,t,i)=>{i(54805),i(42567)},58608:(e,t,i)=>{var n=i(33051),a=n.retrieve,o=n.defaults,r=n.extend,s=n.each,l=i(78988),d=i(51177),u=i(4272),c=i(85669),p=c.isRadianAroundZero,h=c.remRadian,g=i(41525).createSymbol,x=i(32892),f=i(45280).applyTransform,v=i(97980).shouldShowAllLabels,m=Math.PI,y=function(e,t){this.opt=t,this.axisModel=e,o(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new d.Group;var i=new d.Group({position:t.position.slice(),rotation:t.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};y.prototype={constructor:y,hasBuilder:function(e){return!!A[e]},add:function(e){A[e].call(this)},getGroup:function(){return this.group}};var A={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),n=this._transform,a=[i[0],0],o=[i[1],0];n&&(f(a,a,n),f(o,o,n));var l=r({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new d.Line({anid:"line",subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:o[0],y2:o[1]},style:l,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var u=t.get("axisLine.symbol"),c=t.get("axisLine.symbolSize"),p=t.get("axisLine.symbolOffset")||0;if("number"==typeof p&&(p=[p,p]),null!=u){"string"==typeof u&&(u=[u,u]),"string"!=typeof c&&"number"!=typeof c||(c=[c,c]);var h=c[0],x=c[1];s([{rotate:e.rotation+Math.PI/2,offset:p[0],r:0},{rotate:e.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((a[0]-o[0])*(a[0]-o[0])+(a[1]-o[1])*(a[1]-o[1]))}],(function(t,i){if("none"!==u[i]&&null!=u[i]){var n=g(u[i],-h/2,-x/2,h,x,l.stroke,!0),o=t.r+t.offset,r=[a[0]+o*Math.cos(e.rotation),a[1]-o*Math.sin(e.rotation)];n.attr({rotation:t.rotate,position:r,silent:!0,z2:11}),this.group.add(n)}}),this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,i=function(e,t,i){var n=t.axis,a=t.getModel("axisTick");if(!a.get("show")||n.scale.isBlank())return;for(var r=a.getModel("lineStyle"),s=i.tickDirection*a.get("length"),l=T(n.getTicksCoords(),e._transform,s,o(r.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),"ticks"),d=0;d<l.length;d++)e.group.add(l[d]);return l}(this,e,t),n=function(e,t,i){var n=t.axis;if(!a(i.axisLabelShow,t.get("axisLabel.show"))||n.scale.isBlank())return;var o=t.getModel("axisLabel"),r=o.get("margin"),l=n.getViewLabels(),c=(a(i.labelRotate,o.get("rotate"))||0)*m/180,p=_(i.rotation,c,i.labelDirection),h=t.getCategories&&t.getCategories(!0),g=[],x=w(t),f=t.get("triggerEvent");return s(l,(function(a,s){var l=a.tickValue,c=a.formattedLabel,v=a.rawLabel,m=o;h&&h[l]&&h[l].textStyle&&(m=new u(h[l].textStyle,o,t.ecModel));var y=m.getTextColor()||t.get("axisLine.lineStyle.color"),A=[n.dataToCoord(l),i.labelOffset+i.labelDirection*r],_=new d.Text({anid:"label_"+l,position:A,rotation:p.rotation,silent:x,z2:10});d.setTextStyle(_.style,m,{text:c,textAlign:m.getShallow("align",!0)||p.textAlign,textVerticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||p.textVerticalAlign,textFill:"function"==typeof y?y("category"===n.type?v:"value"===n.type?l+"":l,s):y}),f&&(_.eventData=b(t),_.eventData.targetType="axisLabel",_.eventData.value=v),e._dumbGroup.add(_),_.updateTransform(),g.push(_),e.group.add(_),_.decomposeTransform()})),g}(this,e,t);!function(e,t,i){if(v(e.axis))return;var n=e.get("axisLabel.showMinLabel"),a=e.get("axisLabel.showMaxLabel");i=i||[];var o=(t=t||[])[0],r=t[1],s=t[t.length-1],l=t[t.length-2],d=i[0],u=i[1],c=i[i.length-1],p=i[i.length-2];!1===n?(I(o),I(d)):S(o,r)&&(n?(I(r),I(u)):(I(o),I(d)));!1===a?(I(s),I(c)):S(l,s)&&(a?(I(l),I(p)):(I(s),I(c)))}(e,n,i),function(e,t,i){var n=t.axis,a=t.getModel("minorTick");if(!a.get("show")||n.scale.isBlank())return;var r=n.getMinorTicksCoords();if(!r.length)return;for(var s=a.getModel("lineStyle"),l=i.tickDirection*a.get("length"),d=o(s.getLineStyle(),o(t.getModel("axisTick").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})),u=0;u<r.length;u++)for(var c=T(r[u],e._transform,l,d,"minorticks_"+u),p=0;p<c.length;p++)e.group.add(c[p])}(this,e,t)},axisName:function(){var e=this.opt,t=this.axisModel,i=a(e.axisName,t.get("name"));if(i){var n,o,s=t.get("nameLocation"),u=e.nameDirection,c=t.getModel("nameTextStyle"),g=t.get("nameGap")||0,x=this.axisModel.axis.getExtent(),f=x[0]>x[1]?-1:1,v=["start"===s?x[0]-f*g:"end"===s?x[1]+f*g:(x[0]+x[1])/2,P(s)?e.labelOffset+u*g:0],y=t.get("nameRotate");null!=y&&(y=y*m/180),P(s)?n=_(e.rotation,null!=y?y:e.rotation,u):(n=function(e,t,i,n){var a,o,r=h(i-e.rotation),s=n[0]>n[1],l="start"===t&&!s||"start"!==t&&s;p(r-m/2)?(o=l?"bottom":"top",a="center"):p(r-1.5*m)?(o=l?"top":"bottom",a="center"):(o="middle",a=r<1.5*m&&r>m/2?l?"left":"right":l?"right":"left");return{rotation:r,textAlign:a,textVerticalAlign:o}}(e,s,y||0,x),null!=(o=e.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(n.rotation)),!isFinite(o)&&(o=null)));var A=c.getFont(),I=t.get("nameTruncate",!0)||{},S=I.ellipsis,T=a(e.nameTruncateMaxWidth,I.maxWidth,o),M=null!=S&&null!=T?l.truncateText(i,T,A,S,{minChar:2,placeholder:I.placeholder}):i,C=t.get("tooltip",!0),k=t.mainType,L={componentType:k,name:i,$vars:["name"]};L[k+"Index"]=t.componentIndex;var D=new d.Text({anid:"name",__fullText:i,__truncatedText:M,position:v,rotation:n.rotation,silent:w(t),z2:1,tooltip:C&&C.show?r({content:i,formatter:function(){return i},formatterParams:L},C):null});d.setTextStyle(D.style,c,{text:M,textFont:A,textFill:c.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:c.get("align")||n.textAlign,textVerticalAlign:c.get("verticalAlign")||n.textVerticalAlign}),t.get("triggerEvent")&&(D.eventData=b(t),D.eventData.targetType="axisName",D.eventData.name=i),this._dumbGroup.add(D),D.updateTransform(),this.group.add(D),D.decomposeTransform()}}},b=y.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},_=y.innerTextLayout=function(e,t,i){var n,a,o=h(t-e);return p(o)?(a=i>0?"top":"bottom",n="center"):p(o-m)?(a=i>0?"bottom":"top",n="center"):(a="middle",n=o>0&&o<m?i>0?"right":"left":i>0?"left":"right"),{rotation:o,textAlign:n,textVerticalAlign:a}};var w=y.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};function I(e){e&&(e.ignore=!0)}function S(e,t,i){var n=e&&e.getBoundingRect().clone(),a=t&&t.getBoundingRect().clone();if(n&&a){var o=x.identity([]);return x.rotate(o,o,-e.rotation),n.applyTransform(x.mul([],o,e.getLocalTransform())),a.applyTransform(x.mul([],o,t.getLocalTransform())),n.intersect(a)}}function P(e){return"middle"===e||"center"===e}function T(e,t,i,n,a){for(var o=[],r=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;r[0]=u,r[1]=0,s[0]=u,s[1]=i,t&&(f(r,r,t),f(s,s,t));var c=new d.Line({anid:a+"_"+e[l].tickValue,subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:n,z2:2,silent:!0});o.push(c)}return o}var M=y;e.exports=M},11726:(e,t,i)=>{i(38175).__DEV__;var n=i(70492),a=i(18490),o=n.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,i,n){this.axisPointerClass&&a.fixValue(e),o.superApply(this,"render",arguments),r(this,e,t,i,n,!0)},updateAxisPointer:function(e,t,i,n,a){r(this,e,t,i,n,!1)},remove:function(e,t){var i=this._axisPointer;i&&i.remove(t),o.superApply(this,"remove",arguments)},dispose:function(e,t){s(this,t),o.superApply(this,"dispose",arguments)}});function r(e,t,i,n,r,l){var d=o.getAxisPointerClass(e.axisPointerClass);if(d){var u=a.getAxisPointerModel(t);u?(e._axisPointer||(e._axisPointer=new d)).render(t,u,n,l):s(e,n)}}function s(e,t,i){var n=e._axisPointer;n&&n.dispose(t,i),e._axisPointer=null}var l=[];o.registerAxisPointerClass=function(e,t){l[e]=t},o.getAxisPointerClass=function(e){return e&&l[e]};var d=o;e.exports=d},42567:(e,t,i)=>{var n=i(33051),a=i(51177),o=i(58608),r=i(11726),s=i(49069),l=i(77956),d=l.rectCoordAxisBuildSplitArea,u=l.rectCoordAxisHandleRemove,c=["axisLine","axisTickLabel","axisName"],p=["splitArea","splitLine","minorSplitLine"],h=r.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,i,r){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new a.Group,this.group.add(this._axisGroup),e.get("show")){var d=e.getCoordSysModel(),u=s.layout(d,e),g=new o(e,u);n.each(c,g.add,g),this._axisGroup.add(g.getGroup()),n.each(p,(function(t){e.get(t+".show")&&this["_"+t](e,d)}),this),a.groupTransition(l,this._axisGroup,e),h.superCall(this,"render",e,t,i,r)}},remove:function(){u(this)},_splitLine:function(e,t){var i=e.axis;if(!i.scale.isBlank()){var o=e.getModel("splitLine"),r=o.getModel("lineStyle"),s=r.get("color");s=n.isArray(s)?s:[s];for(var l=t.coordinateSystem.getRect(),d=i.isHorizontal(),u=0,c=i.getTicksCoords({tickModel:o}),p=[],h=[],g=r.getLineStyle(),x=0;x<c.length;x++){var f=i.toGlobalCoord(c[x].coord);d?(p[0]=f,p[1]=l.y,h[0]=f,h[1]=l.y+l.height):(p[0]=l.x,p[1]=f,h[0]=l.x+l.width,h[1]=f);var v=u++%s.length,m=c[x].tickValue;this._axisGroup.add(new a.Line({anid:null!=m?"line_"+c[x].tickValue:null,subPixelOptimize:!0,shape:{x1:p[0],y1:p[1],x2:h[0],y2:h[1]},style:n.defaults({stroke:s[v]},g),silent:!0}))}}},_minorSplitLine:function(e,t){var i=e.axis,n=e.getModel("minorSplitLine").getModel("lineStyle"),o=t.coordinateSystem.getRect(),r=i.isHorizontal(),s=i.getMinorTicksCoords();if(s.length)for(var l=[],d=[],u=n.getLineStyle(),c=0;c<s.length;c++)for(var p=0;p<s[c].length;p++){var h=i.toGlobalCoord(s[c][p].coord);r?(l[0]=h,l[1]=o.y,d[0]=h,d[1]=o.y+o.height):(l[0]=o.x,l[1]=h,d[0]=o.x+o.width,d[1]=h),this._axisGroup.add(new a.Line({anid:"minor_line_"+s[c][p].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:d[0],y2:d[1]},style:u,silent:!0}))}},_splitArea:function(e,t){d(this,this._axisGroup,e,t)}});h.extend({type:"xAxis"}),h.extend({type:"yAxis"})},77956:(e,t,i)=>{var n=i(33051),a=i(51177);t.rectCoordAxisBuildSplitArea=function(e,t,i,o){var r=i.axis;if(!r.scale.isBlank()){var s=i.getModel("splitArea"),l=s.getModel("areaStyle"),d=l.get("color"),u=o.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:s,clamp:!0});if(c.length){var p=d.length,h=e.__splitAreaColors,g=n.createHashMap(),x=0;if(h)for(var f=0;f<c.length;f++){var v=h.get(c[f].tickValue);if(null!=v){x=(v+(p-1)*f)%p;break}}var m=r.toGlobalCoord(c[0].coord),y=l.getAreaStyle();d=n.isArray(d)?d:[d];for(f=1;f<c.length;f++){var A,b,_,w,I=r.toGlobalCoord(c[f].coord);r.isHorizontal()?(A=m,b=u.y,_=I-A,w=u.height,m=A+_):(A=u.x,b=m,_=u.width,m=b+(w=I-b));var S=c[f-1].tickValue;null!=S&&g.set(S,x),t.add(new a.Rect({anid:null!=S?"area_"+S:null,shape:{x:A,y:b,width:_,height:w},style:n.defaults({fill:d[x]},y),silent:!0})),x=(x+1)%p}e.__splitAreaColors=g}}},t.rectCoordAxisHandleRemove=function(e){e.__splitAreaColors=null}},52528:(e,t,i)=>{var n=i(70492),a=i(33051),o=i(18490),r=i(96472);i(16572),i(48253),i(97326),n.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!a.isArray(t)&&(e.axisPointer.link=[t])}})),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=o.collect(e,t)})),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},r)},16572:(e,t,i)=>{var n=i(70492).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});e.exports=n},48253:(e,t,i)=>{var n=i(70492),a=i(56996),o=n.extendComponentView({type:"axisPointer",render:function(e,t,i){var n=t.getComponent("tooltip"),o=e.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";a.register("axisPointer",i,(function(e,t,i){"none"!==o&&("leave"===e||o.indexOf(e)>=0)&&i({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},remove:function(e,t){a.unregister(t.getZr(),"axisPointer"),o.superApply(this._model,"remove",arguments)},dispose:function(e,t){a.unregister("axisPointer",t),o.superApply(this._model,"dispose",arguments)}}),r=o;e.exports=r},47329:(e,t,i)=>{var n=i(33051),a=i(34251),o=i(51177),r=i(18490),s=i(61158),l=i(270),d=(0,i(32234).makeInner)(),u=n.clone,c=n.bind;function p(){}function h(e,t,i,a){(function e(t,i){if(n.isObject(t)&&n.isObject(i)){var a=!0;return n.each(i,(function(i,n){a=a&&e(t[n],i)})),!!a}return t===i})(d(i).lastProp,a)||(d(i).lastProp=a,t?o.updateProps(i,a,e):(i.stopAnimation(),i.attr(a)))}function g(e,t){e[t.get("label.show")?"show":"hide"]()}function x(e){return{position:e.position.slice(),rotation:e.rotation||0}}function f(e,t,i){var n=t.get("z"),a=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=a&&(e.zlevel=a),e.silent=i)}))}p.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,i,a){var r=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,a||this._lastValue!==r||this._lastStatus!==s){this._lastValue=r,this._lastStatus=s;var l=this._group,d=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(d&&d.hide());l&&l.show(),d&&d.show();var u={};this.makeElOption(u,r,e,t,i);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var p=this._moveAnimation=this.determineAnimation(e,t);if(l){var g=n.curry(h,t,p);this.updatePointerEl(l,u,g,t),this.updateLabelEl(l,u,g,t)}else l=this._group=new o.Group,this.createPointerEl(l,u,e,t),this.createLabelEl(l,u,e,t),i.getZr().add(l);f(l,t,!0),this._renderHandle(r)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var i=t.get("animation"),n=e.axis,a="category"===n.type,o=t.get("snap");if(!o&&!a)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(a&&n.getBandWidth()>s)return!0;if(o){var l=r.getAxisInfo(e).seriesDataCount,d=n.getExtent();return Math.abs(d[0]-d[1])/l>s}return!1}return!0===i},makeElOption:function(e,t,i,n,a){},createPointerEl:function(e,t,i,n){var a=t.pointer;if(a){var r=d(e).pointerEl=new o[a.type](u(t.pointer));e.add(r)}},createLabelEl:function(e,t,i,n){if(t.label){var a=d(e).labelEl=new o.Rect(u(t.label));e.add(a),g(a,n)}},updatePointerEl:function(e,t,i){var n=d(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),i(n,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,i,n){var a=d(e).labelEl;a&&(a.setStyle(t.label.style),i(a,{shape:t.label.shape,position:t.label.position}),g(a,n))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,a=this._api.getZr(),r=this._handle,d=i.getModel("handle"),u=i.get("status");if(!d.get("show")||!u||"hide"===u)return r&&a.remove(r),void(this._handle=null);this._handle||(t=!0,r=this._handle=o.createIcon(d.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){s.stop(e.event)},onmousedown:c(this._onHandleDragMove,this,0,0),drift:c(this._onHandleDragMove,this),ondragend:c(this._onHandleDragEnd,this)}),a.add(r)),f(r,i,!1);r.setStyle(d.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var p=d.get("size");n.isArray(p)||(p=[p,p]),r.attr("scale",[p[0]/2,p[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",d.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){h(this._axisPointerModel,!t&&this._moveAnimation,this._handle,x(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(x(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(x(n)),d(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,n=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}}},p.prototype.constructor=p,a.enableClassExtend(p);var v=p;e.exports=v},97326:(e,t,i)=>{var n=i(47329),a=i(75539),o=i(49069),r=i(11726),s=n.extend({makeElOption:function(e,t,i,n,r){var s=i.axis,u=s.grid,c=n.get("type"),p=l(u,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(t,!0));if(c&&"none"!==c){var g=a.buildElStyle(n),x=d[c](s,h,p);x.style=g,e.graphicKey=x.type,e.pointer=x}var f=o.layout(u.model,i);a.buildCartesianSingleLabelElOption(t,e,f,i,n,r)},getHandleTransform:function(e,t,i){var n=o.layout(t.axis.grid.model,t,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:a.getTransformedPosition(t.axis,e,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,i,n){var a=i.axis,o=a.grid,r=a.getGlobalExtent(!0),s=l(o,a).getOtherAxis(a).getGlobalExtent(),d="x"===a.dim?0:1,u=e.position;u[d]+=t[d],u[d]=Math.min(r[1],u[d]),u[d]=Math.max(r[0],u[d]);var c=(s[1]+s[0])/2,p=[c,c];p[d]=u[d];return{position:u,rotation:e.rotation,cursorPoint:p,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}});function l(e,t){var i={};return i[t.dim+"AxisIndex"]=t.index,e.getCartesian(i)}var d={line:function(e,t,i){return{type:"Line",subPixelOptimize:!0,shape:a.makeLineShape([t,i[0]],[t,i[1]],u(e))}},shadow:function(e,t,i){var n=Math.max(1,e.getBandWidth()),o=i[1]-i[0];return{type:"Rect",shape:a.makeRectShape([t-n/2,i[0]],[n,o],u(e))}}};function u(e){return"x"===e.dim?0:1}r.registerAxisPointerClass("CartesianAxisPointer",s);var c=s;e.exports=c},96472:(e,t,i)=>{var n=i(33051),a=i(32234).makeInner,o=i(18490),r=i(92448),s=n.each,l=n.curry,d=a();function u(e,t,i,a,o){var r=e.axis;if(!r.scale.isBlank()&&r.containData(t))if(e.involveSeries){var l=function(e,t){var i=t.axis,n=i.dim,a=e,o=[],r=Number.MAX_VALUE,l=-1;return s(t.seriesModels,(function(t,d){var u,c,p=t.getData().mapDimension(n,!0);if(t.getAxisTooltipData){var h=t.getAxisTooltipData(p,e,i);c=h.dataIndices,u=h.nestestValue}else{if(!(c=t.getData().indicesOfNearest(p[0],e,"category"===i.type?.5:null)).length)return;u=t.getData().get(p[0],c[0])}if(null!=u&&isFinite(u)){var g=e-u,x=Math.abs(g);x<=r&&((x<r||g>=0&&l<0)&&(r=x,l=g,a=u,o.length=0),s(c,(function(e){o.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:o,snapToValue:a}}(t,e),d=l.payloadBatch,u=l.snapToValue;d[0]&&null==o.seriesIndex&&n.extend(o,d[0]),!a&&e.snap&&r.containData(u)&&null!=u&&(t=u),i.showPointer(e,t,d,o),i.showTooltip(e,l,u)}else i.showPointer(e,t)}function c(e,t,i,n){e[t.key]={value:i,payloadBatch:n}}function p(e,t,i,n){var a=i.payloadBatch,r=t.axis,s=r.model,l=t.axisPointerModel;if(t.triggerTooltip&&a.length){var d=t.coordSys.model,u=o.makeKey(d),c=e.map[u];c||(c=e.map[u]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:a.slice()})}}function h(e){var t=e.axis.model,i={},n=i.axisDim=e.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=t.componentIndex,i.axisName=i[n+"AxisName"]=t.name,i.axisId=i[n+"AxisId"]=t.id,i}function g(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}e.exports=function(e,t,i){var a=e.currTrigger,o=[e.x,e.y],x=e,f=e.dispatchAction||n.bind(i.dispatchAction,i),v=t.getComponent("axisPointer").coordSysAxesInfo;if(v){g(o)&&(o=r({seriesIndex:x.seriesIndex,dataIndex:x.dataIndex},t).point);var m=g(o),y=x.axesInfo,A=v.axesInfo,b="leave"===a||g(o),_={},w={},I={list:[],map:{}},S={showPointer:l(c,w),showTooltip:l(p,I)};s(v.coordSysMap,(function(e,t){var i=m||e.containPoint(o);s(v.coordSysAxesInfo[t],(function(e,t){var n=e.axis,a=function(e,t){for(var i=0;i<(e||[]).length;i++){var n=e[i];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}(y,e);if(!b&&i&&(!y||a)){var r=a&&a.value;null!=r||m||(r=n.pointToData(o)),null!=r&&u(e,r,S,!1,_)}}))}));var P={};return s(A,(function(e,t){var i=e.linkGroup;i&&!w[t]&&s(i.axesInfo,(function(t,n){var a=w[n];if(t!==e&&a){var o=a.value;i.mapper&&(o=e.axis.scale.parse(i.mapper(o,h(t),h(e)))),P[e.key]=o}}))})),s(P,(function(e,t){u(A[t],e,S,!0,_)})),function(e,t,i){var n=i.axesInfo=[];s(t,(function(t,i){var a=t.axisPointerModel.option,o=e[i];o?(!t.useHandle&&(a.status="show"),a.value=o.value,a.seriesDataIndices=(o.payloadBatch||[]).slice()):!t.useHandle&&(a.status="hide"),"show"===a.status&&n.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:a.value})}))}(w,A,_),function(e,t,i,n){if(g(t)||!e.list.length)return void n({type:"hideTip"});var a=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:e.list})}(I,o,e,f),function(e,t,i){var a=i.getZr(),o=d(a).axisPointerLastHighlights||{},r=d(a).axisPointerLastHighlights={};s(e,(function(e,t){var i=e.axisPointerModel.option;"show"===i.status&&s(i.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;r[t]=e}))}));var l=[],u=[];n.each(o,(function(e,t){!r[t]&&u.push(e)})),n.each(r,(function(e,t){!o[t]&&l.push(e)})),u.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:u}),l.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:l})}(A,0,i),_}}},92448:(e,t,i)=>{var n=i(33051),a=i(32234);e.exports=function(e,t){var i,o=[],r=e.seriesIndex;if(null==r||!(i=t.getSeriesByIndex(r)))return{point:[]};var s=i.getData(),l=a.queryDataIndex(s,e);if(null==l||l<0||n.isArray(l))return{point:[]};var d=s.getItemGraphicEl(l),u=i.coordinateSystem;if(i.getTooltipPosition)o=i.getTooltipPosition(l)||[];else if(u&&u.dataToPoint)o=u.dataToPoint(s.getValues(n.map(u.dimensions,(function(e){return s.mapDimension(e)})),l,!0))||[];else if(d){var c=d.getBoundingRect().clone();c.applyTransform(d.transform),o=[c.x+c.width/2,c.y+c.height/2]}return{point:o,el:d}}},56996:(e,t,i)=>{var n=i(33051),a=i(66387),o=(0,i(32234).makeInner)(),r=n.each;function s(e,t,i){e.handler("leave",null,i)}function l(e,t,i,n){t.handler(e,i,n)}t.register=function(e,t,i){if(!a.node){var d=t.getZr();o(d).records||(o(d).records={}),function(e,t){if(o(e).initialized)return;function i(i,n){e.on(i,(function(i){var a=function(e){var t={showTip:[],hideTip:[]},i=function(n){var a=t[n.type];a?a.push(n):(n.dispatchAction=i,e.dispatchAction(n))};return{dispatchAction:i,pendings:t}}(t);r(o(e).records,(function(e){e&&n(e,i,a.dispatchAction)})),function(e,t){var i,n=e.showTip.length,a=e.hideTip.length;n?i=e.showTip[n-1]:a&&(i=e.hideTip[a-1]);i&&(i.dispatchAction=null,t.dispatchAction(i))}(a.pendings,t)}))}o(e).initialized=!0,i("click",n.curry(l,"click")),i("mousemove",n.curry(l,"mousemove")),i("globalout",s)}(d,t),(o(d).records[e]||(o(d).records[e]={})).handler=i}},t.unregister=function(e,t){if(!a.node){var i=t.getZr();(o(i).records||{})[e]&&(o(i).records[e]=null)}}},18490:(e,t,i)=>{var n=i(33051),a=i(4272),o=n.each,r=n.curry;function s(e,t){return"all"===e||n.isArray(e)&&n.indexOf(e,t)>=0||e===t}function l(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[u(e)]}function d(e){return!!e.get("handle.show")}function u(e){return e.type+"||"+e.id}t.collect=function(e,t){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,i){var l=t.getComponent("tooltip"),c=t.getComponent("axisPointer"),p=c.get("link",!0)||[],h=[];o(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var g=u(i.model),x=e.coordSysAxesInfo[g]={};e.coordSysMap[g]=i;var f=i.model.getModel("tooltip",l);if(o(i.getAxes(),r(A,!1,null)),i.getTooltipAxes&&l&&f.get("show")){var v="axis"===f.get("trigger"),m="cross"===f.get("axisPointer.type"),y=i.getTooltipAxes(f.get("axisPointer.axis"));(v||m)&&o(y.baseAxes,r(A,!m||"cross",v)),m&&o(y.otherAxes,r(A,"cross",!1))}}function A(r,l,g){var v=g.model.getModel("axisPointer",c),m=v.get("show");if(m&&("auto"!==m||r||d(v))){null==l&&(l=v.get("triggerTooltip"));var y=(v=r?function(e,t,i,r,s,l){var d=t.getModel("axisPointer"),u={};o(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){u[e]=n.clone(d.get(e))})),u.snap="category"!==e.type&&!!l,"cross"===d.get("type")&&(u.type="line");var c=u.label||(u.label={});if(null==c.show&&(c.show=!1),"cross"===s){var p=d.get("label.show");if(c.show=null==p||p,!l){var h=u.lineStyle=d.get("crossStyle");h&&n.defaults(c,h.textStyle)}}return e.model.getModel("axisPointer",new a(u,i,r))}(g,f,c,t,r,l):v).get("snap"),A=u(g.model),b=l||y||"category"===g.type,_=e.axesInfo[A]={key:A,axis:g,coordSys:i,axisPointerModel:v,triggerTooltip:l,involveSeries:b,snap:y,useHandle:d(v),seriesModels:[]};x[A]=_,e.seriesInvolved|=b;var w=function(e,t){for(var i=t.model,n=t.dim,a=0;a<e.length;a++){var o=e[a]||{};if(s(o[n+"AxisId"],i.id)||s(o[n+"AxisIndex"],i.componentIndex)||s(o[n+"AxisName"],i.name))return a}}(p,g);if(null!=w){var I=h[w]||(h[w]={axesInfo:{}});I.axesInfo[A]=_,I.mapper=p[w].mapper,_.linkGroup=I}}}}))}(i,e,t),i.seriesInvolved&&function(e,t){t.eachSeries((function(t){var i=t.coordinateSystem,n=t.get("tooltip.trigger",!0),a=t.get("tooltip.show",!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==a&&!1!==t.get("axisPointer.show",!0)&&o(e.coordSysAxesInfo[u(i.model)],(function(e){var n=e.axis;i.getAxis(n.dim)===n&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}),this)}(i,e),i},t.fixValue=function(e){var t=l(e);if(t){var i=t.axisPointerModel,n=t.axis.scale,a=i.option,o=i.get("status"),r=i.get("value");null!=r&&(r=n.parse(r));var s=d(i);null==o&&(a.status=s?"show":"hide");var u=n.getExtent().slice();u[0]>u[1]&&u.reverse(),(null==r||r>u[1])&&(r=u[1]),r<u[0]&&(r=u[0]),a.value=r,s&&(a.status=t.axis.scale.isBlank()?"hide":"show")}},t.getAxisInfo=l,t.getAxisPointerModel=function(e){var t=l(e);return t&&t.axisPointerModel},t.makeKey=u},75539:(e,t,i)=>{var n=i(33051),a=i(51177),o=i(80423),r=i(78988),s=i(32892),l=i(97980),d=i(58608);function u(e,t,i,n,a){var s=c(i.get("value"),t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),l=i.getModel("label"),d=r.normalizeCssArray(l.get("padding")||0),u=l.getFont(),p=o.getBoundingRect(s,u),h=a.position,g=p.width+d[1]+d[3],x=p.height+d[0]+d[2],f=a.align;"right"===f&&(h[0]-=g),"center"===f&&(h[0]-=g/2);var v=a.verticalAlign;"bottom"===v&&(h[1]-=x),"middle"===v&&(h[1]-=x/2),function(e,t,i,n){var a=n.getWidth(),o=n.getHeight();e[0]=Math.min(e[0]+t,a)-t,e[1]=Math.min(e[1]+i,o)-i,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(h,g,x,n);var m=l.get("backgroundColor");m&&"auto"!==m||(m=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:g,height:x,r:l.get("borderRadius")},position:h.slice(),style:{text:s,textFont:u,textFill:l.getTextColor(),textPosition:"inside",textPadding:d,fill:m,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function c(e,t,i,a,o){e=t.scale.parse(e);var r=t.scale.getLabel(e,{precision:o.precision}),s=o.formatter;if(s){var d={value:l.getAxisRawValue(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};n.each(a,(function(e){var t=i.getSeriesByIndex(e.seriesIndex),n=e.dataIndexInside,a=t&&t.getDataParams(n);a&&d.seriesData.push(a)})),n.isString(s)?r=s.replace("{value}",r):n.isFunction(s)&&(r=s(d))}return r}function p(e,t,i){var n=s.create();return s.rotate(n,n,i.rotation),s.translate(n,n,i.position),a.applyTransform([e.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}t.buildElStyle=function(e){var t,i=e.get("type"),n=e.getModel(i+"Style");return"line"===i?(t=n.getLineStyle()).fill=null:"shadow"===i&&((t=n.getAreaStyle()).stroke=null),t},t.buildLabelElOption=u,t.getValueLabel=c,t.getTransformedPosition=p,t.buildCartesianSingleLabelElOption=function(e,t,i,n,a,o){var r=d.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=a.get("label.margin"),u(t,n,a,o,{position:p(n.axis,e,i),align:r.textAlign,verticalAlign:r.textVerticalAlign})},t.makeLineShape=function(e,t,i){return{x1:e[i=i||0],y1:e[1-i],x2:t[i],y2:t[1-i]}},t.makeRectShape=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},t.makeSectorShape=function(e,t,i,n,a,o){return{cx:e,cy:t,r0:i,r:n,startAngle:a,endAngle:o,clockwise:!0}}},81768:(e,t,i)=>{var n=i(98071),a=i(33166),o=i(61772).detectSourceFormat,r=i(93819).SERIES_LAYOUT_BY_COLUMN;n.extend({type:"dataset",defaultOption:{seriesLayoutBy:r,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){o(this)}}),a.extend({type:"dataset"})},84617:(e,t,i)=>{var n=i(70492),a=i(33051),o=i(51177);i(77532),i(88791),n.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new o.Rect({shape:e.coordinateSystem.getRect(),style:a.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),n.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}}]);