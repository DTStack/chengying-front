"use strict";(self.webpackChunkdt_em_front=self.webpackChunkdt_em_front||[]).push([[8521],{42177:e=>{e.exports=function(e){return"handled"===e||!0===e}},40258:e=>{e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),o=t.getStartOffset(),i=!1;return r.some((function(e){return o===e.get("start")?(i=!0,!0):o<e.get("end")&&e.get("leaves").some((function(e){var t=e.get("start");return o===t&&(i=!0,!0)}))})),i}},49779:(e,t,n)=>{var r=n(14289),o=n(88182),i=n(8101),a=n(53268),c=n(14730);e.exports=function(e){var t=c(e,(function(e){var t=e.getSelection();if(t.isCollapsed()&&0===t.getAnchorOffset())return a(e,1);var r=n.g.getSelection().getRangeAt(0);return r=o(r),i(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState}),"backward");return t===e.getCurrentContent()?e:r.push(e,t,"remove-range")}},51050:(e,t,n)=>{var r=n(73932),o=n(14289),i=n(53268),a=n(14730);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return i(e,1);var o=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(o).getText().slice(0,n),c=r.getBackward(a);return i(e,c.length||1)}),"backward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},13767:(e,t,n)=>{var r=n(73932),o=n(14289),i=n(19417),a=n(14730);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=t.getStartOffset(),o=t.getStartKey(),a=e.getCurrentContent().getBlockForKey(o).getText().slice(n),c=r.getForward(a);return i(e,c.length||1)}),"forward");return t===e.getCurrentContent()?e:o.push(e,t,"remove-range")}},77978:(e,t,n)=>{var r=n(42307),o=n(14289);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return o.push(e,t,"split-block")}},67217:(e,t,n)=>{var r=n(14289);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),o=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:o,focusKey:n,focusOffset:o,isBackward:!1}),forceSelection:!0})}},8425:(e,t,n)=>{var r=n(14289);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},62800:(e,t,n)=>{var r=n(14289),o=n(38935),i=n(53268),a=n(14730);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),c=n.getBlockForKey(r).getText()[a-1];return i(e,c?o.getUTF16Length(c,0):1)}),"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},13998:(e,t,n)=>{var r=n(14289),o=n(38935),i=n(19417),a=n(14730);e.exports=function(e){var t=a(e,(function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),a=t.getAnchorOffset(),c=n.getBlockForKey(r).getText()[a];return i(e,c?o.getUTF16Length(c,0):1)}),"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},53318:(e,t,n)=>{var r=n(42307),o=n(14289),i=n(88687);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var a,c,g=t.getAnchorKey(),f=e.getCurrentContent(),u=f.getBlockForKey(g).getLength();if(u<=1)return e;n===u?(a=t.set("anchorOffset",n-1),c=t):c=(a=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var l=i(f,a),s=r.removeRange(f,a,"backward"),v=s.getSelectionAfter(),d=v.getAnchorOffset()-1,y=v.merge({anchorOffset:d,focusOffset:d}),p=r.replaceWithFragment(s,y,l),S=o.push(e,p,"insert-fragment");return o.acceptSelection(S,c)}},87051:(e,t,n)=>{var r=n(14289);e.exports=function(e,t,n){var o=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout((function(){n(o)}),0)):n(o);else{var i=o.getCurrentContent();n(r.set(o,{nativelyRenderedContent:i}))}}},57429:(e,t,n)=>{var r=n(43393).Map;e.exports=function(e,t,n){var o=t.getStartKey(),i=t.getEndKey(),a=e.getBlockMap(),c=a.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===i})).concat(r([[i,a.get(i)]])).map(n);return e.merge({blockMap:a.merge(c),selectionBefore:t,selectionAfter:t})}},61173:(e,t,n)=>{var r=n(67953),o=n(43393),i=n(39506),a=n(73759),c=o.OrderedMap,g=o.List,f=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},u=function(e,t,n,r,o){if(!o)return e;var i="after"===r,a=t.getKey(),c=n.getKey(),u=t.getParentKey(),l=t.getNextSiblingKey(),s=t.getPrevSiblingKey(),v=n.getParentKey(),d=i?n.getNextSiblingKey():c,y=i?c:n.getPrevSiblingKey();return e.withMutations((function(e){f(u,e,(function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(a))})})),f(s,e,(function(e){return e.merge({nextSibling:l})})),f(l,e,(function(e){return e.merge({prevSibling:s})})),f(d,e,(function(e){return e.merge({prevSibling:a})})),f(y,e,(function(e){return e.merge({nextSibling:a})})),f(v,e,(function(e){var t=e.getChildKeys(),n=t.indexOf(c),r=i?n+1:0!==n?n-1:0,o=t.toArray();return o.splice(r,0,a),e.merge({children:g(o)})})),f(a,e,(function(e){return e.merge({nextSibling:d,prevSibling:y,parent:v})}))}))};e.exports=function(e,t,n,o){"replace"===o&&a(!1);var g=n.getKey(),f=t.getKey();f===g&&a(!1);var l=e.getBlockMap(),s=t instanceof r,v=[t],d=l.delete(f);s&&(v=[],d=l.withMutations((function(e){var n=t.getNextSiblingKey(),r=i(t,e);e.toSeq().skipUntil((function(e){return e.getKey()===f})).takeWhile((function(e){var t=e.getKey(),o=t===f,i=n&&t!==n,a=!n&&e.getParentKey()&&(!r||t!==r);return!!(o||i||a)})).forEach((function(t){v.push(t),e.delete(t.getKey())}))})));var y=d.toSeq().takeUntil((function(e){return e===n})),p=d.toSeq().skipUntil((function(e){return e===n})).skip(1),S=v.map((function(e){return[e.getKey(),e]})),h=c();if("before"===o){var K=e.getBlockBefore(g);K&&K.getKey()===t.getKey()&&a(!1),h=y.concat([].concat(S,[[g,n]]),p).toOrderedMap()}else if("after"===o){var m=e.getBlockAfter(g);m&&m.getKey()===f&&a(!1),h=y.concat([[g,n]].concat(S),p).toOrderedMap()}return e.merge({blockMap:u(h,t,n,o,s),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:f,focusKey:f})})}},53268:e=>{e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),o=n.getStartKey(),i=n.getStartOffset(),a=o,c=0;if(t>i){var g=r.getKeyBefore(o);if(null==g)a=o;else a=g,c=r.getBlockForKey(g).getText().length}else c=i-t;return n.merge({focusKey:a,focusOffset:c,isBackward:!0})}},19417:e=>{e.exports=function(e,t){var n,r=e.getSelection(),o=r.getStartKey(),i=r.getStartOffset(),a=e.getCurrentContent(),c=o;return t>a.getBlockForKey(o).getText().length-i?(c=a.getKeyAfter(o),n=0):n=i+t,r.merge({focusKey:c,focusOffset:n})}},98555:(e,t,n)=>{var r=n(67953),o=n(43393),i=n(25027),a=o.OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t={},n=void 0;return a(e.withMutations((function(e){e.forEach((function(r,o){var a=r.getKey(),c=r.getNextSiblingKey(),g=r.getPrevSiblingKey(),f=r.getChildKeys(),u=r.getParentKey(),l=i();(t[a]=l,c)&&(e.get(c)?e.setIn([c,"prevSibling"],l):e.setIn([a,"nextSibling"],null));g&&(e.get(g)?e.setIn([g,"nextSibling"],l):e.setIn([a,"prevSibling"],null));if(u&&e.get(u)){var s=e.get(u).getChildKeys();e.setIn([u,"children"],s.set(s.indexOf(r.getKey()),l))}else e.setIn([a,"parent"],null),n&&(e.setIn([n.getKey(),"nextSibling"],l),e.setIn([a,"prevSibling"],t[n.getKey()])),n=e.get(a);f.forEach((function(t){e.get(t)?e.setIn([t,"parent"],l):e.setIn([a,"children"],r.getChildKeys().filter((function(e){return e!==t})))}))}))})).toArray().map((function(e){return[t[e.getKey()],e.set("key",t[e.getKey()])]})))}(e):function(e){return a(e.toArray().map((function(e){var t=i();return[t,e.set("key",t)]})))}(e)}},14017:(e,t,n)=>{var r=n(4516),o=n(29407),i=n(73759);function a(e,t,n){var a=t.getCharacterList(),c=n>0?a.get(n-1):void 0,g=n<a.count()?a.get(n):void 0,f=c?c.getEntity():void 0,u=g?g.getEntity():void 0;if(u&&u===f&&"MUTABLE"!==e.__get(u).getMutability()){for(var l,s=function(e,t,n){var r;return o(e,(function(e,t){return e.getEntity()===t.getEntity()}),(function(e){return e.getEntity()===t}),(function(e,t){e<=n&&t>=n&&(r={start:e,end:t})})),"object"!=typeof r&&i(!1),r}(a,u,n),v=s.start,d=s.end;v<d;)l=a.get(v),a=a.set(v,r.applyEntity(l,null)),v++;return t.set("characterList",a)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),o={},i=t.getStartKey(),c=t.getStartOffset(),g=n.get(i),f=a(r,g,c);f!==g&&(o[i]=f);var u=t.getEndKey(),l=t.getEndOffset(),s=n.get(u);i===u&&(s=f);var v=a(r,s,l);return v!==s&&(o[u]=v),Object.keys(o).length?e.merge({blockMap:n.merge(o),selectionAfter:t}):e.set("selectionAfter",t)}},54879:(e,t,n)=>{var r=n(67953),o=n(43393),i=n(39506),a=(o.List,o.Map),c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},g=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var o=r.getParentKey();o&&n.push(o),r=o?t.get(o):null}return n},f=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},u=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},l=function(e,t,n,r){return e.withMutations((function(e){c(t.getKey(),e,(function(n){return n.merge({nextSibling:f(t,e,r),prevSibling:u(t,e,r)})})),c(n.getKey(),e,(function(t){return t.merge({nextSibling:f(n,e,r),prevSibling:u(n,e,r)})})),g(t.getKey(),r).forEach((function(t){return c(t,e,(function(t){return t.merge({children:t.getChildKeys().filter((function(t){return e.get(t)})),nextSibling:f(t,e,r),prevSibling:u(t,e,r)})}))})),c(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})})),c(t.getPrevSiblingKey(),e,(function(n){return n.merge({nextSibling:f(t,e,r)})})),c(n.getNextSiblingKey(),e,(function(t){return t.merge({prevSibling:u(n,e,r)})})),c(n.getPrevSiblingKey(),e,(function(e){return e.merge({nextSibling:n.getNextSiblingKey()})})),g(n.getKey(),r).forEach((function(t){c(t,e,(function(t){return t.merge({children:t.getChildKeys().filter((function(t){return e.get(t)})),nextSibling:f(t,e,r),prevSibling:u(t,e,r)})}))})),function(e,t){var n=[];if(!e)return n;for(var r=i(e,t);r&&t.get(r);){var o=t.get(r);n.push(r),r=o.getParentKey()?i(o,t):null}return n}(n,r).forEach((function(t){return c(t,e,(function(t){return t.merge({nextSibling:f(t,e,r),prevSibling:u(t,e,r)})}))}))}))},s=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),o=e.slice(n);e=r.concat(o).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n=e.getBlockMap(),o=t.getStartKey(),c=t.getStartOffset(),f=t.getEndKey(),u=t.getEndOffset(),v=n.get(o),d=n.get(f),y=v instanceof r,p=[];if(y){var S=d.getChildKeys(),h=g(f,n);d.getNextSiblingKey()&&(p=p.concat(h)),S.isEmpty()||(p=p.concat(h.concat([f]))),p=p.concat(g(i(d,n),n))}var K=void 0;K=v===d?s(v.getCharacterList(),c,u):v.getCharacterList().slice(0,c).concat(d.getCharacterList().slice(u));var m=v.merge({text:v.getText().slice(0,c)+d.getText().slice(u),characterList:K}),x=n.toSeq().skipUntil((function(e,t){return t===o})).takeUntil((function(e,t){return t===f})).filter((function(e,t){return-1===p.indexOf(t)})).concat(a([[f,null]])).map((function(e,t){return t===o?m:null})),b=n.merge(x).filter((function(e){return!!e}));return y&&(b=l(b,v,d,n)),e.merge({blockMap:b,selectionBefore:t,selectionAfter:t.merge({anchorKey:o,anchorOffset:c,focusKey:o,focusOffset:c,isBackward:!1})})}},14730:(e,t,n)=>{var r=n(42307);e.exports=function(e,t,n){var o=e.getSelection(),i=e.getCurrentContent(),a=o;if(o.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return i}else if(e.isSelectionAtStartOfContent())return i;if((a=t(e))===o)return i}return r.removeRange(i,a,n)}},55283:e=>{var t=new RegExp("\r","g");e.exports=function(e){return e.replace(t,"")}},45412:(e,t,n)=>{var r=n(97432),o=n(67476),i=n(31003),a=n(73759);function c(e,t){if(!e)return"[empty]";var n=function e(t,n){var r=void 0!==n?n(t):[];if(t.nodeType===Node.TEXT_NODE){var o=t.textContent.length;return document.createTextNode("[text "+o+(r.length?" | "+r.join(", "):"")+"]")}var i=t.cloneNode();1===i.nodeType&&r.length&&i.setAttribute("data-labels",r.join(", "));for(var a=t.childNodes,c=0;c<a.length;c++)i.appendChild(e(a[c],n));return i}(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(n instanceof Element||a(!1),n.outerHTML)}function g(e,t){for(var n=e;n;){if(n instanceof Element&&n.hasAttribute("contenteditable"))return c(n,t);n=n.parentNode}return"Could not find contentEditable parent of node"}function f(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function u(e,t,n,a){var c=i();if(e.extend&&o(c,t)){n>f(t)&&r.logSelectionStateFailure({anonymizedDom:g(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(a.toJS())});var u=t===e.focusNode;try{e.extend(t,n)}catch(o){throw r.logSelectionStateFailure({anonymizedDom:g(t,(function(t){var n=[];return t===c&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n})),extraParams:JSON.stringify({activeElementName:c?c.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:u,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:o?""+o:null,offset:n},null,2),selectionState:JSON.stringify(a.toJS(),null,2)}),o}}else{var l=e.getRangeAt(0);l.setEnd(t,n),e.addRange(l.cloneRange())}}function l(e,t,n,o){var i=document.createRange();n>f(t)&&r.logSelectionStateFailure({anonymizedDom:g(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(o.toJS())}),i.setStart(t,n),e.addRange(i)}e.exports=function(e,t,r,i,a){if(o(document.documentElement,t)){var c=n.g.getSelection(),g=e.getAnchorKey(),f=e.getAnchorOffset(),s=e.getFocusKey(),v=e.getFocusOffset(),d=e.getIsBackward();if(!c.extend&&d){var y=g,p=f;g=s,f=v,s=y,v=p,d=!1}var S=g===r&&i<=f&&a>=f,h=s===r&&i<=v&&a>=v;if(S&&h)return c.removeAllRanges(),l(c,t,f-i,e),void u(c,t,v-i,e);if(d){if(h&&(c.removeAllRanges(),l(c,t,v-i,e)),S){var K=c.focusNode,m=c.focusOffset;c.removeAllRanges(),l(c,t,f-i,e),u(c,K,m,e)}}else S&&(c.removeAllRanges(),l(c,t,f-i,e)),h&&u(c,t,v-i,e)}}},36043:(e,t,n)=>{var r=n(67953),o=n(43393),i=n(25027),a=n(73759),c=o.List,g=o.Map,f=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||a(!1);var n=t.getAnchorKey(),o=t.getAnchorOffset(),u=e.getBlockMap(),l=u.get(n),s=l.getText(),v=l.getCharacterList(),d=i(),y=l instanceof r,p=l.merge({text:s.slice(0,o),characterList:v.slice(0,o)}),S=p.merge({key:d,text:s.slice(o),characterList:v.slice(o),data:g()}),h=u.toSeq().takeUntil((function(e){return e===l})),K=u.toSeq().skipUntil((function(e){return e===l})).rest(),m=h.concat([[n,p],[d,S]],K).toOrderedMap();return y&&(l.getChildKeys().isEmpty()||a(!1),m=function(e,t,n){return e.withMutations((function(e){var r=t.getKey(),o=n.getKey();f(t.getParentKey(),e,(function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,i=t.toArray();return i.splice(n,0,o),e.merge({children:c(i)})})),f(t.getNextSiblingKey(),e,(function(e){return e.merge({prevSibling:o})})),f(r,e,(function(e){return e.merge({nextSibling:o})})),f(o,e,(function(e){return e.merge({prevSibling:r})}))}))}(m,p,S)),e.merge({blockMap:m,selectionBefore:t,selectionAfter:t.merge({anchorKey:d,anchorOffset:0,focusKey:d,focusOffset:0,isBackward:!1})})}},44300:e=>{var t=/\r\n?|\n/g;e.exports=function(e){return e.split(t)}}}]);