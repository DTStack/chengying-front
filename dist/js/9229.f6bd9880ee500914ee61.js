"use strict";(self.webpackChunkdt_em_front=self.webpackChunkdt_em_front||[]).push([[9229],{19229:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var r,i=n(1068),a=n.n(i),l=n(73126),o=n(44930),s=n(68420),u=n(27344),c=n(5281),m=n(84441),f=n(3020),d=n(3362),p=n(44845),h=n(63109),v=n.n(h),Z=n(77766),b=n.n(Z),g=n(67294),_=n(29027),y=n(69035),N=n(45360),C=n(11382),E=n(21888),k=n(77268),w=n(19528);function L(e){var t=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=a()(r,arguments,i)}else n=r.apply(this,arguments);return(0,f.Z)(this,n)}}var S=y.Z.Item,x=(0,_.$j)((function(e){return{authorityList:e.UserCenterStore.authorityList}}))(r=function(e){(0,m.Z)(n,e);var t=L(n);function n(){var e,r;(0,s.Z)(this,n);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return r=t.call.apply(t,b()(e=[this]).call(e,a)),(0,p.Z)((0,c.Z)(r),"state",{limitNumber:null,loading:!0}),(0,p.Z)((0,c.Z)(r),"changeNumber",(function(e){r.setState({limitNumber:e}),r.props.form.setFieldsValue({limitNumber:+e})})),(0,p.Z)((0,c.Z)(r),"doSave",(function(){var e=r.state.limitNumber;w.w6.setGlobalConfig({service_install_timeout_limit:e}).then((function(e){var t=e.data;0!==t.code?N.Z.error(t.msg):N.Z.success("操作成功")}))})),(0,p.Z)((0,c.Z)(r),"getLimitNumber",(0,o.Z)(v().mark((function e(){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.w6.getGlobalConfig();case 2:t=e.sent,0!==(n=t.data).code?N.Z.error(n.msg):r.setState({limitNumber:+n.data.service_install_timeout_limit},(function(){r.setState({loading:!1})}));case 6:case"end":return e.stop()}}),e)})))),r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.getLimitNumber()}},{key:"render",value:function(){var e,t,n=this.props.form,r=n.getFieldDecorator,i=(null===(e=(0,n.getFieldsError)())||void 0===e?void 0:e.limitNumber)||!(null!==(t=this.props.authorityList)&&void 0!==t&&t.sub_menu_configuration_global_config_edit),a=this.state,o=a.limitNumber,s=a.loading;return g.createElement("div",{className:"globalConfig"},g.createElement(C.Z,{spinning:s},!s&&g.createElement(y.Z,null,g.createElement(S,(0,l.Z)({label:"组件包安装超时 "},{labelCol:{xs:{span:2},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:15}}}),r("limitNumber",{rules:[{required:!0,message:"请输入时长"},{pattern:/^[1-9]*[1-9][0-9]*$/,message:"请输入大于0的正整数"}]})(g.createElement("div",null,g.createElement(E.Z,{defaultValue:o,autoFocus:!0,step:1,min:1,onChange:this.changeNumber}),"  分钟"))),g.createElement(S,null,g.createElement("div",{className:"btnList"},g.createElement(k.Z,{onClick:this.doSave,htmlType:"submit",disabled:!!i},"保存"))))))}}]),n}(g.Component))||r;const F=y.Z.create()(x)}}]);