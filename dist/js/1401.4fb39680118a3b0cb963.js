"use strict";(self.webpackChunkdt_em_front=self.webpackChunkdt_em_front||[]).push([[1401],{86019:(e,t,r)=>{var n=r(4516),o=r(43393).List;e.exports=function(e,t){var r=e.map((function(e,r){var o=t[r];return n.create({style:e,entity:o})}));return o(r)}},67134:(e,t,r)=>{var n=r(38935).substr;e.exports=function(e,t){var r=Array(e.length).fill(null);return t&&t.forEach((function(t){for(var o=n(e,0,t.offset).length,a=o+n(e,t.offset,t.length).length,i=o;i<a;i++)r[i]=t.key})),r}},59672:(e,t,r)=>{var n=r(43393).OrderedSet,o=r(38935).substr,a=n();e.exports=function(e,t){var r=Array(e.length).fill(a);return t&&t.forEach((function(t){for(var n=o(e,0,t.offset).length,a=n+o(e,t.offset,t.length).length;n<a;)r[n]=r[n].add(t.style),n++})),r}},26396:(e,t,r)=>{var n=r(34365),o=r(42307),a=r(14289),i=r(4856),s=r(42128),l=r(42177),p=r(40258),c=r(22045),d=r(56926),u=i.isBrowser("Firefox");function f(e,t,r,n){var i=o.replaceText(e.getCurrentContent(),e.getSelection(),t,r,n);return a.push(e,i,"insert-characters")}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var o=e._latestEditorState,i=t.data;if(i)if(e.props.handleBeforeInput&&l(e.props.handleBeforeInput(i,o)))t.preventDefault();else{var g=o.getSelection(),v=g.getStartOffset(),h=g.getEndOffset(),S=g.getAnchorKey();if(!g.isCollapsed())return t.preventDefault(),void(i===o.getCurrentContent().getPlainText().slice(v,h)?e.update(a.forceSelection(o,g.merge({focusOffset:h}))):e.update(f(o,i,o.getCurrentInlineStyle(),s(o.getCurrentContent(),o.getSelection()))));var C,y=f(o,i,o.getCurrentInlineStyle(),s(o.getCurrentContent(),o.getSelection())),m=!1;if(m||(m=p(e._latestCommittedEditorState)),!m){var E=r.g.getSelection();if(E.anchorNode&&E.anchorNode.nodeType===Node.TEXT_NODE){var T=E.anchorNode.parentNode;m="SPAN"===T.nodeName&&T.firstChild.nodeType===Node.TEXT_NODE&&-1!==T.firstChild.nodeValue.indexOf("\t")}}if(!m)m=n.getFingerprint(o.getBlockTree(S))!==n.getFingerprint(y.getBlockTree(S));if(m||(C=i,m=u&&("'"==C||"/"==C)),m||(m=c(y.getDirectionMap()).get(S)!==c(o.getDirectionMap()).get(S)),m)return t.preventDefault(),void e.update(y);y=a.set(y,{nativelyRenderedContent:y.getCurrentContent()}),e._pendingStateFromBeforeInput=y,d((function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)}))}}},43421:(e,t,r)=>{var n=r(14289),o=r(67476),a=r(31003);e.exports=function(e,t){if(a()===document.body){var i=r.g.getSelection(),s=e.editor;1===i.rangeCount&&o(s,i.anchorNode)&&o(s,i.focusNode)&&i.removeAllRanges()}var l=e._latestEditorState,p=l.getSelection();if(p.getHasFocus()){var c=p.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(n.acceptSelection(l,c))}}},6155:(e,t,r)=>{var n=r(14289);e.exports=function(e,t){e.setMode("composite"),e.update(n.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},69328:(e,t,r)=>{var n=r(33826);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(n(e._latestEditorState))}},88922:(e,t,r)=>{var n=r(42307),o=r(14289),a=r(19051),i=r(33826),s=r(79749);e.exports=function(e,t){var r=e._latestEditorState,l=r.getSelection(),p=t.target,c=void 0;if(l.isCollapsed())t.preventDefault();else{p instanceof Node&&(c=s(a.getScrollParent(p)));var d=i(r);e.setClipboard(d),e.setMode("cut"),setTimeout((function(){e.restoreEditorDOM(c),e.exitCurrentMode(),e.update(function(e){var t=n.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return o.push(e,t,"remove-range")}(r))}),0)}}},39499:e=>{e.exports=function(e,t){e._internalDrag=!1,e.setMode("drag"),t.preventDefault()}},80981:e=>{e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},62186:(e,t,r)=>{var n=r(14289),o=r(4856);e.exports=function(e,t){var r=e._latestEditorState,a=r.getSelection();if(!a.getHasFocus()){var i=a.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),o.isBrowser("Chrome < 60.0.3081.0")?e.update(n.forceSelection(r,i)):e.update(n.acceptSelection(r,i))}}},29971:(e,t,r)=>{var n=r(1065),o=r(42307),a=r(22146),i=r(14289),s=r(4856),l=r(69270),p=r(22045),c=s.isEngine("Gecko");e.exports=function(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var t=r.g.getSelection(),s=t.anchorNode,d=t.isCollapsed,u=s.nodeType!==Node.TEXT_NODE,f=s.nodeType!==Node.TEXT_NODE&&s.nodeType!==Node.ELEMENT_NODE;if(n.draft_killswitch_allow_nontextnodes){if(u)return}else if(f)return;if(s.nodeType===Node.TEXT_NODE&&(null!==s.previousSibling||null!==s.nextSibling)){var g=s.parentNode;s.nodeValue=g.textContent;for(var v=g.firstChild;null!==v;v=v.nextSibling)v!==s&&g.removeChild(v)}var h=s.textContent,S=e._latestEditorState,C=p(l(s)),y=a.decode(C),m=y.blockKey,E=y.decoratorKey,T=y.leafKey,_=S.getBlockTree(m).getIn([E,"leaves",T]),x=_.start,F=_.end,B=S.getCurrentContent(),b=B.getBlockForKey(m),k=b.getText().slice(x,F);if(h.endsWith("\n\n")&&(h=h.slice(0,-1)),h!==k){var D,N,w,A,O=S.getSelection(),M=O.merge({anchorOffset:x,focusOffset:F,isBackward:!1}),I=b.getEntityAt(x),R=I&&B.getEntity(I),P="MUTABLE"===(R&&R.getMutability()),K=P?"spellcheck-change":"apply-entity",L=o.replaceText(B,M,h,b.getInlineStyleAt(x),P?b.getEntityAt(x):null);if(c)D=t.anchorOffset,N=t.focusOffset,A=(w=x+Math.min(D,N))+Math.abs(D-N),D=w,N=A;else{var H=h.length-k.length;w=O.getStartOffset(),A=O.getEndOffset(),D=d?A+H:w,N=A+H}var U=L.merge({selectionBefore:B.getSelectionAfter(),selectionAfter:O.merge({anchorOffset:D,focusOffset:N})});e.update(i.push(S,U,K))}}},46397:(e,t,r)=>{var n=r(42307),o=r(14289),a=r(47387),i=r(25399),s=r(83751),l=r(4856),p=r(42177),c=r(49779),d=r(51050),u=r(13767),f=r(77978),g=r(67217),v=r(8425),h=r(62800),S=r(13998),C=r(53318),y=r(87051),m=a.isOptionKeyCommand,E=l.isBrowser("Chrome");e.exports=function(e,t){var r=t.which,a=e._latestEditorState;switch(r){case i.RETURN:if(t.preventDefault(),e.props.handleReturn&&p(e.props.handleReturn(t,a)))return;break;case i.ESC:return t.preventDefault(),void(e.props.onEscape&&e.props.onEscape(t));case i.TAB:return void(e.props.onTab&&e.props.onTab(t));case i.UP:return void(e.props.onUpArrow&&e.props.onUpArrow(t));case i.RIGHT:return void(e.props.onRightArrow&&e.props.onRightArrow(t));case i.DOWN:return void(e.props.onDownArrow&&e.props.onDownArrow(t));case i.LEFT:return void(e.props.onLeftArrow&&e.props.onLeftArrow(t));case i.SPACE:if(E&&m(t)){t.preventDefault();var l=n.replaceText(a.getCurrentContent(),a.getSelection(),"Â ");return void e.update(o.push(a,l,"insert-characters"))}}var T=e.props.keyBindingFn(t);if(T)if("undo"!==T){if(t.preventDefault(),!e.props.handleKeyCommand||!p(e.props.handleKeyCommand(T,a))){var _=function(e,t){switch(e){case"redo":return o.redo(t);case"delete":return S(t);case"delete-word":return u(t);case"backspace":return h(t);case"backspace-word":return d(t);case"backspace-to-start-of-line":return c(t);case"split-block":return f(t);case"transpose-characters":return C(t);case"move-selection-to-start-of-block":return v(t);case"move-selection-to-end-of-block":return g(t);case"secondary-cut":return s.cut(t);case"secondary-paste":return s.paste(t);default:return t}}(T,a);_!==a&&e.update(_)}}else y(t,a,e.update)}},6089:(e,t,r)=>{var n=r(10329),o=r(4516),a=r(44891),i=r(42307),s=r(45712),l=r(14289),p=r(41947),c=r(42128),d=r(92960),u=r(42177),f=r(44300);function g(e,t,r){var n=i.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return l.push(e,n.set("entityMap",r),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var r=new a(t.clipboardData);if(!r.isRichText()){var v=r.getFiles(),h=r.getText();if(v.length>0){if(e.props.handlePastedFiles&&u(e.props.handlePastedFiles(v)))return;return void d(v,(function(t){if(t=t||h){var r=e._latestEditorState,a=f(t),d=o.create({style:r.getCurrentInlineStyle(),entity:c(r.getCurrentContent(),r.getSelection())}),u=p.getCurrentBlockType(r),g=s.processText(a,d,u),v=n.createFromArray(g),S=i.replaceWithFragment(r.getCurrentContent(),r.getSelection(),v);e.update(l.push(r,S,"insert-fragment"))}}))}}var S=[],C=r.getText(),y=r.getHTML(),m=e._latestEditorState;if(!e.props.handlePastedText||!u(e.props.handlePastedText(C,y,m))){if(C&&(S=f(C)),!e.props.stripPastedStyles){var E=e.getClipboard();if(r.isRichText()&&E){if(-1!==y.indexOf(e.getEditorKey())||1===S.length&&1===E.size&&E.first().getText()===C)return void e.update(g(e._latestEditorState,E))}else if(E&&r.types.includes("com.apple.webarchive")&&!r.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every((function(t,r){return t.getText()===e[r]}))}(S,E))return void e.update(g(e._latestEditorState,E));if(y){var T=s.processHTML(y,e.props.blockRenderMap);if(T){var _=T.contentBlocks,x=T.entityMap;if(_){var F=n.createFromArray(_);return void e.update(g(e._latestEditorState,F,x))}}}e.setClipboard(null)}if(S.length){var B=o.create({style:m.getCurrentInlineStyle(),entity:c(m.getCurrentContent(),m.getSelection())}),b=p.getCurrentBlockType(m),k=s.processText(S,B,b),D=n.createFromArray(k);e.update(g(e._latestEditorState,D))}}}},14507:(e,t,r)=>{var n=r(14289),o=r(73935),a=r(1244),i=r(73759);e.exports=function(e){if(!e._blockSelectEvents&&e._latestEditorState===e.props.editorState){var t=e.props.editorState,r=o.findDOMNode(e.editorContainer);r||i(!1),r.firstChild instanceof HTMLElement||i(!1);var s=a(t,r.firstChild),l=s.selectionState;l!==t.getSelection()&&(t=s.needsRecovery?n.forceSelection(t,l):n.acceptSelection(t,l),e.update(t))}}}}]);